---
title: "Confidential Neuropsychological Report"
author:
  - name: "**Smalls, Biggie**"
date: January 1, 2021
output:
  komadown::komatufte:
    latex_engine: pdflatex 
    citation_package: biblatex
    number_sections: false
    keep_md: true
    keep_tex: false
site: bookdown::bookdown_site
header-includes:
- \usepackage{titling}
- \pretitle{\begin{center}
  \includegraphics[width=6in,height=2in]{logo.png}\LARGE\\}
- \posttitle{\end{center}}
- \usepackage{svg}
- \usepackage{wasysym}
toc: false
highlight: yes
bibliography: komadown.bib
biblio-style: apa
link-citations: yes
colorlinks: yes
graphics: yes
fig-caption: true
self-contained: yes
fontpack-newtx: yes
fontpack-libertine: yes
automark: yes
classoption:
  - DIV=calc
  - headsepline=true
header:
  - pos: ro
    next: "`r params$lname`, `r params$fname`"
caption:
  - labelfont=bf
  - labelsep=period
  - font=small
setkomafont:
- element: descriptionlabel
  commands: \normalfont\scshape\bfseries
params:
  fname:
    label: 'First Name:'
    value: Biggie
    input: text
  lname:
    label: 'Last Name:'
    value: Smalls
    input: text
  mrn:
    label: 'Patient ID:'
    value: '00000000'
    input: numeric
    min: 00000000
    max: 99999999
  dob:
    label: 'Date of Birth:'
    value: !r Sys.Date()
    input: date
  sex:
    label: 'Sex/Gender:'
    value: Male
    input: radio
    choices:
    - Male
    - Female
    - Nonbinary
    - Prefer not to answer
  race:
    label: 'Race/Ethnicity:'
    value: White/Caucasian
    input: radio
    choices:
    - American Indian/Alaska Native
    - Asian-American
    - Black/African-American
    - Hispanic/Caucasian
    - Multiracial
    - Native Hawaiian
    - Pacific Islander
    - White/Caucasian
    - Prefer not to answer
    - Other
  hand:
    label: 'Handedness:'
    value: Right
    input: radio
    width: 800px
    choices:
    - Right
    - Left
    - Ambidextrous
  educ:
    label: 'Current Grade:'
    value: "Dropped outta high school"
    input: select
    multiple: no
    choices:
    - Dropped outta high school
    - At home with relatives
    - Daycare
    - Preschool
    - Transitional Kindergarten
    - Kindergarten
    - 1st grade
    - 2nd grade
    - 3rd grade
    - 4th grade
    - 5th grade
    - 6th grade
    - 7th grade
    - 8th grade
    - 9th grade
    - 10th grade
    - 11th grade
    - 12th grade
    - Some college
    - College freshman
    - College sophomore
    - College junior
    - College senior
    - Graduate student
    - Medical student
    - Post-doctoral student
    - Other
    - High school diploma
    - College degree
    - Master's degree
    - Medical degree
    - Doctoral degree
  doe1:
    label: 'DOE 1st visit (NSE):'
    value: !r Sys.Date()
    input: date
  doe2:
    label: 'DOE 2nd visit (NT1):'
    value: !r Sys.Date()
    input: date
  doe3:
    label: 'DOE 3rd visit (NT2):'
    value: !r Sys.Date()
    input: date
  doe4:
    label: 'DOE 4th visit (SIRF):'
    value: !r Sys.Date()
    input: date
  he:
    label: 'he/she Pronoun:'
    value: he
    input: radio
    width: 800px
    choices:
    - he
    - she
  his:
    label: 'his/her Pronoun:'
    value: his
    input: radio
    width: 800px
    choices:
    - his
    - her
  him:
    label: 'him/her Pronoun:'
    value: him
    input: radio
    width: 800px
    choices:
    - him
    - her
  he2:
    label: 'He/She Pronoun:'
    value: He
    input: radio
    width: 800px
    choices:
    - He
    - She
  his2:
    label: 'His/Her Pronoun:'
    value: His
    input: radio
    width: 800px
    choices:
    - His
    - Her
  him2:
    label: 'Him/Her Pronoun:'
    value: Him
    input: radio
    width: 800px
    choices:
    - Him
    - Her
---

```{r, setup, include = FALSE, results='hide', warning=FALSE}
library(knitr)
knitr::knit_hooks$set(crop = knitr::hook_pdfcrop)
knitr::knit_hooks$set(optipng = knitr::hook_optipng)

# Fix subfigs for rmarkdown -> latex
if (identical(knitr:::pandoc_to(), 'latex'))
  knitr::knit_hooks$set(plot = knitr::hook_plot_tex)

knitr::opts_chunk$set(
  echo = FALSE,
  dev = c("CairoPNG", "CairoPDF"),
  dev.args = list(pointsize = 8),
  crop = TRUE,
  par = TRUE,
  fig.width = 5,
  fig.height = 3,
  dpi = 300,
  fig.pos = '!ht',
  root.dir = normalizePath('./'),
  cache = FALSE,
  cache.path = './cache/report-',
  # Code block options
  eval = TRUE,
  include = TRUE,
  message = FALSE,
  warning = FALSE,
  results = 'asis',
  error = TRUE
)

knitr::opts_knit$set(width = 50)

options(digits = 3, warnPartialMatchArgs = FALSE)
```

```{r}
# Source functions
source(file = here::here("R/utils.R"))
```

```{r}
# Source functions
source(file = here::here("R/handout.R"))
```

```{r}
# Source functions
source(file = here::here("R/html.R"))
```

```{r}
knitr::knit_engines$set(marginfigure = function(options) {
        options$type = 'marginfigure'
        eng_block = knitr::knit_engines$get('block')
        eng_block(options)
    })
```

```{r}
# Source functions
source(file = here::here("R/calc_age.R"))
```

```{r}
# Source functions
source(file = here::here("R/dotplot.R"))
```

```{r}
# Source functions
source(file = here::here("R/make_tibble.R"))
```

(ref:wppsi4) Wechsler Preschool and Primary Scale of Intelligence, 4th ed
(WPPSI-IV)

(ref:wisc5) Wechsler Intelligence Scale for Children, 5th ed (WISC-V)

(ref:wais4) Wechsler Adult Intelligence Scale, 4th ed (WAIS-IV)

(ref:ktea3) Kaufman Test of Educational Achievement, 3rd ed (KTEA-3)

(ref:wrat5) Wide Range Achievement Test, 5th ed (WRAT-5)

(ref:wiat3) Wechsler Individual Achievement Test, 3rd ed (WIAT-III)

(ref:wiat4) Wechsler Individual Achievement Test, 4th ed (WIAT-4)

(ref:evt3) Expressive Vocabulary Test, 3rd ed (EVT-3)

(ref:ppvt5) Peabody Picture Vocabulary Test, 5th ed (PPVT-5)

(ref:tiwre) Test of Irregular Word Reading Efficiency (TIWRE)

(ref:nepsy2) NEPSY-II Developmental Neuropsychological Battery

(ref:examiner) NIH Executive Abilities: Measures and Instruments for
Neurobehavioral Evaluation and Research (NIH EXAMINER)

(ref:cms) Children's Memory Scale (CMS)

(ref:pegboard) Grooved Pegboard Test

(ref:clock) Clock Drawing Test

(ref:bicycle) Bicycle Drawing Task

(ref:ravlt) Rey Auditory Verbal Learning Test (RAVLT)

(ref:cvltc) California Verbal Learning Test, Child ed (CVLT-C)

(ref:cvlt3) California Verbal Learning Test, 3rd ed (CVLT-3)

(ref:dkefs) Delis-Kaplan Executive Function System (D-KEFS)

(ref:tmt) Trail Making Test

(ref:nab) Neuropsychological Assessment Battery (NAB)

(ref:nabs) Neuropsychological Assessment Battery Screener (NAB-S)

(ref:rbans) Repeatable Repeatable Battery for the Assessment of
Neuropsychological Status Update (RBANS)

(ref:coca) Colorado Cognitive Assessment (CoCA)

(ref:cog-est) Cognitive Estimation Test

(ref:celf5) Clinical Evaluation of Language Fundamentals, 5th ed (CELF-5)

(ref:tomm) Test of Memory Malingering (TOMM)

(ref:acs-word-choice) Advanced Clinical Solutions (ACS) Word Choice Test

(ref:basc3) Behavioral Assessment Scale for Children, 3rd ed (BASC-3)

(ref:basc3-sdh) BASC-3 Structured Developmental History (SDH)

(ref:basc3-prs) BASC-3 Parent Rating Scale (PRS)

(ref:basc3-prs-preschool) BASC-3 Parent Rating Scale (PRS), Preschool

(ref:basc3-prs-child) BASC-3 Parent Rating Scale (PRS), Child

(ref:basc3-prs-adolescent) BASC-3 Parent Rating Scale (PRS), Adolescent

(ref:basc3-srp) BASC-3 Self-Report of Personality (SRP)

(ref:basc3-srp-child) BASC-3 Self-Report of Personality (SRP), Child

(ref:basc3-srp-adolescent) BASC-3 Self-Report of Personality (SRP), Adolescent

(ref:brown-efa) Brown Executive Function/Attention Scales (Brown EF/A)

(ref:brown-efa-parent) Brown Executive Function/Attention Scales, (EF/A), Parent
Report

(ref:brown-efa-self) Brown Executive Function/Attention Scale (EF/A),
Self-Report

(ref:brown-efa-teacher) Brown Executive Function/Attention Scales (EF/A), Teacher Report

(ref:caadid) Conners' Adult ADHD Diagnostic Interview for DSM-IV (CAADID), Part
I: History

(ref:caars-self) Conners' Adult ADHD Rating Scale (CAARS), Self-Report

(ref:caars-obs) Conners' Adult ADHD Rating Scale (CAARS), Observer Report

(ref:cars2) Childhood Autism Rating Scale, 2nd ed (CARS2)

(ref:cars2-hf) CARS2 High-Functioning Version (CARS2-HF)

(ref:cars2-qpc) CARS2 Questionnaire for Parents/Caregivers (CARS2-QPC)

(ref:sent-comp) Children's Sentence Completion Test

(ref:pai) Personality Assessment Inventory (PAI)

(ref:iq) Intelligence

(ref:academics) Academic Skills

(ref:verbal) Verbal/Language

(ref:spatial) Visual Perception/Construction

(ref:memory) Memory

(ref:executive) Attention/Executive

(ref:motor) Motor

(ref:social) Social Cognition

(ref:standard-score) Score = Standard score (M = 100, SD = 15)

(ref:scaled-score) Score = Scaled score (M = 10, SD = 3)

(ref:t-score) Score = *T* score (M = 50, SD = 10)

(ref:z-score) Score = *z*-score (M = 0, SD = 1)

(ref:zplot) *z* = -1 (16th percentile), *z* = 0 (50th percentile), and *z* = 1
(84th percentile)

(ref:pct) A percentile score shows `r params$fname`'s standing relative to
peers. For example, a percentile score of 70 means `r params$fname` performed as
well as or better than 70% of individuals the same age.

(ref:br) A base rate is the prevalence of score in the general population. If a
score is rare, defined as a base rate of less than 10%, it is considered
clinically significant, and that area of functioning is probably causing
problems in daily functioning.

(ref:basc3-footnote) Score = *T* score (M = 50, SD = 10); *Note:* Adaptive
Skills *T* scores are reversed

(ref:basc3-fn-srp-adol) Score = *T* score (M = 50, SD = 10); *Note:* Personal
Adjustment *T* scores are reversed

(ref:g) *General intelligence* refers to an overall capacity to reason, to solve
problems, and to learn useful information.

(ref:gc) *Crystallized intelligence* refers to the ability to learn and use
language to reason and understand how the world works.

(ref:gf) *Fluid intelligence* refers to the ability to use logical reasoning to
figure things out without being told exactly how things work, analyze and solve
novel problems, identify patterns and relationships that underpin these
problems, and apply logic.

(ref:acad) *Reading ability* consists of three interrelated abilities: decoding,
comprehension, and fluency. *Writing ability* can be described in terms of
spelling, grammar, expression of ideas, and writing fluency. *Math ability* can
be described in terms of calculation skills, applied problem solving, and math
fluency.

(ref:read) *Reading ability* can be described as consisting of three
interrelated abilities: decoding (the ability to recognize and pronounce written
words presented without context), comprehension (the ability not only to
understand the facts presented in the text but also the ability to figure out
things in the text that are not directly stated), and fluency (the ability to
decode and understand simple written information in a rapid and fluent manner).

(ref:write) *Writing ability* can be described in terms of spelling, grammar,
expression of ideas, and writing fluency. Spelling ability and writing fluency
help one write quickly and with quality. If these lower-level skills don't flow
easily, they can take up attention and working memory space so that more
important skills such as making good choices about words and meaning (i.e.,
expression), and capitalizing on background grammar knowledge to construct good
pieces of writing cannot be used as easily.

(ref:math) *Math ability* can be described in terms of calculation skills,
applied problem solving (e.g., word problems), and math fluency.

(ref:vrb) *Verbal/language* refers to the ability to access and apply acquired
word knowledge, to verbalize meaningful concepts, to understand complex
multistep instructions, to think about verbal information, and to express
oneself using words.

(ref:spt) *Visuoperception, visuoconstruction, and visuospatial processing*
refer to abilities such as mentally visualizing how objects should look from
different angles, visualizing how to put objects together so that they fit
correctly, and being able to accurately and efficiently copy and/or reproduce
visual-spatial information onto paper.

(ref:att-exe) *Attentional and executive functions* underlie most, if not all,
domains of cognitive performance. These are behaviors and skills that allow
individuals to successfully carry-out instrumental and social activities,
academic work, engage with others effectively, problem solve, and successfully
interact with the environment to get needs met.

(ref:att) *Attention* is a basic function that underlies most, if not all,
domains of neurocognitive functioning. If an individual has limited attentional
capacity, an inability to sustain or divide attentional focus, or a reduced
ability to selectively attend to competing stimuli, then they would likely be
unable to interact with the environment to an adequate degree and, thus have
limited functioning in other, higher-order areas.

(ref:exe) Measures of *executive functioning* are used as proxies for behaviors
and skills that allow individuals to successfully carry-out instrumental and
social activities, such as planning, engaging with others effectively, problem
solving, and successfully interacting with the environment to get needs met.

(ref:wm) *Working memory* is the system responsible for the transient holding
and processing of information in conscious awareness just long enough to use it
for problem solving, and plays a critical role in reasoning, comprehension, and
learning.

(ref:ps) *Processing speed* refers to the rate at which the brain can
repetitively process familiar and unfamiliar information during relatively easy
tasks that almost everyone can do. Processing speed tests are good predictors of
performance on tasks that are so well learned that they are nearly automatic,
which can be critical to completing work efficiently.

(ref:mem) *Learning and memory* refer to the rate and ease with which new
information (e. g., facts, stories, lists, faces, names) can be encoded, stored,
and later recalled from long-term memory.

(ref:mtr) *Sensorimotor* tasks refer to the capacity to control hand movements
quickly, smoothly, and with adequate precision, which are required to engage in
activities such as writing and drawing.

(ref:soccog) *Social cognition* measures are used to gauge aspects of
social-emotional processing and social aptitude (sometimes referred to as
emotional intelligence), which are important facets of how individuals process
social information about other children, adults, groups, and social contexts.

(ref:cc) *Cognitive control* guides behavior by controlling what, when, and how
information is represented in the brain. Cognitive control is associated with a
wide range of processes and is not restricted to a particular cognitive domain.
Impairments in cognitive control functions are associated with specific deficits
in attention, memory, language comprehension and emotional processing.

(ref:adhd) *ADHD* is a neurodevelopmental disorder characterized by symptoms of
inattention (not being able to keep focus), hyperactivity (excess movement that
is not fitting to the setting) and impulsivity (hasty acts that occur in the
moment without thought). Many ADHD symptoms, such as high activity levels,
difficulty remaining still for long periods of time and limited attention spans,
are common to children and adolescents in general, and even many adults. The
difference in individuals with ADHD is that their hyperactivity and inattention
are noticeably greater than expected for their age and cause distress and/or
problems functioning at home, at school, at work, or with friends.

(ref:dysgraphia) *Dysgraphia* is an impairment in writing, including problems
with letter formation/legibility, letter spacing, spelling, fine motor
coordination, rate of writing, grammar, and composition. DSM-5 categorizes
writing impairment as a "specific learning disability with impairment in written
expression" (spelling accuracy, grammar and punctuation accuracy, and clarity
and organization of written expression) [@chungDisorderWrittenExpression2020].

(ref:odd) *Oppositional defiant disorder (ODD)* is a tendency to oppose and
defy. DSM-5 categorizes ODD under Disruptive, impulse-control, and conduct
disorder. It is described as a pattern of persistent anger, hostility, and
argumentative behavior that persists for more than six months.

(ref:dyslexia) *Dyslexia* means an individual has a neurobiologically based
cognitive processing problem that affects how easily and efficiently they can
learn to read. Approximately 24% of individuals diagnosed with dyslexia are able
to achieve reading skills commensurate with nondyslexic peers. A concept in the
research literature is one of "compensated dyslexia"
[@vanviersenHighReadingSkills2016], which is used to describe these individuals
because they use strengths in other areas to compensate for deficits in reading.
Dyslexia is underidentified in this population because the dyslexia can be
masked by strengths in vocabulary and intelligence, making it especially
difficult to identify in high-achieving individuals.

```{r, echo=FALSE}
## patient initials or first/last name, whatever was used to create subdirectory
patient <- "biggie"
```

```{r, echo=FALSE, eval=F}
# Create directory
dir_create(here::here(patient, "pre_csv"))
dir_create(here::here(patient, "csv"))
dir_create(here::here(patient, "pdf"))
# Create link to directory
out_dir_pre_csv = here::here(patient, "pre_csv")
out_dir_csv = here::here(patient, "csv")
out_dir_pdf = here::here(patient, "pdf")
```

```{bash, engine.opts='-l', echo=F, eval=F}
export patient=patient 
ln -shfi ~/uscdbox/npsych_reports/2021/LNAME-FNAME/*.pdf ~/npsych.komatufte/$patient/pdf/.
```

```{bash, engine.opts='-l', echo=F, eval=F}
export patient=patient 
cp ~/uscdbox/npsych_reports/2021/LNAME-FNAME/*.csv ~/npsych.komatufte/$patient/pre_csv/.
```

```{bash, engine.opts='-l', echo=F, eval=F}
export patient=patient
cp ~/uscdbox/npsych_reports/2021/LNAME-FNAME/*.slk ~/npsych.komatufte/$patient/pre_csv/.
```

```{r, eval=F, echo=FALSE}
## set file path
path_pdf = here::here(patient, "pdf")
file_names_pdf <- dir(path_pdf, pattern = ".pdf", full.names = TRUE)
file_names_pdf
```

```{r, eval=F, echo=FALSE}
## set file path # this might be useless
path_csv = here::here(patient, "pre_csv")
file_names_csv <- dir(path_csv, pattern = ".csv")
file_names_csv
```

```{r, eval=F, echo=FALSE}
## set file path # this might be useless
path_slk = here::here(patient, "pre_csv")
file_names_slk <- dir(path_csv, pattern = ".slk")
file_names_slk
```

```{r, eval=F, echo=FALSE}
# cognitive is first
cognitive.pdf <- file_names_pdf[3]
```

```{r, eval=F, echo=FALSE}
# cognitive is first
nabs.pdf <- file_names_pdf[2]
```

```{r, eval=F, echo=FALSE}
# cognitive is first
cognitive.csv <- file_names_csv[1] # not sure if I need this
```

```{r, eval=F, echo=FALSE}
# cognitive is first
cognitive.slk <- file_names_slk[1]
```

```{r, eval=F, echo=FALSE}
# cognitive is first
pai.csv <- file_names_csv[1]
```

# NEUROBEHAVIORAL STATUS EXAM

(ref:patient) `r params$fname` `r params$lname`

(ref:mrn) `r params$mrn`

(ref:dob) `r params$dob`

(ref:age) `r calc_age(params$dob, params$doe2)`

(ref:sex) `r params$sex`

(ref:race) `r params$race`

(ref:hand) `r params$hand`

(ref:educ) `r params$educ`

(ref:doe) `r params$doe1`, `r params$doe2`, `r params$doe3`, `r params$doe4`

```{marginfigure, echo=TRUE}
**Name:** (ref:patient)\
**MRN:** (ref:mrn)\
**DOB:** (ref:dob)\
**Age:** (ref:age)\
**Gender:** (ref:sex)\
**Handedness:** (ref:hand)\
**Education:** (ref:educ)\
**DOE:** (ref:doe)
```

## Reason for Referral

`r params$fname` is a (ref:age)-year-old youngster/man/woman who presents for
neuropsychological evaluation to determine `r params$his` cognitive, academic,
and emotional strengths and weaknesses. The purpose of the evaluation is to
provide diagnostic clarification, and to develop a targeted treatment and
educational plan. This report is based on a review of available medical records
and information gathered across multiple days of evaluation. Results and
recommendations were discussed with `r params$fname` on the last of these
evaluation dates during interactive feedback.

## Background

`r params$fname`' presents with a history of XX.

## Relevant History

### Developmental/Medical

No birth complications. Normal developmental milestones. No surgical history. No
major medical illness. No regular medications.

### Family

`r params$fname` lives with `r params$his` parents/Dad and Mom/wife/husband, and
`r params$his` sister (age x) and brother (age x) in Los Angeles, CA. Mr.
`r params$lname` is a X and Mrs. `r params$lname` is a X. When asked about major
changes in the family situation or family stressors over the past year,
`r params$fname`'s parents reported no major stressors. Unremarkable family
medical history.

### Academics

`r params$fname` attends `r params$educ` at XX School in Los Angeles.
`r params$he2` has always done reasonably well academically and socially.
`r params$he2` worked with a reading specialist in kindergarten at
`r params$his` teachers suggestion. `r params$he2` graduated with `r params$his`
diploma.

### Behavioral/Emotional/Social

`r params$fname` has no history of behavioral problems. `r params$he2` is
extremely sensitive and wears `r params$his` heart on `r params$his` sleeve.
`r params$he2` is genuine and loyal and a friend to everyone. No history of
depression, anxiety. History of therapy. `r params$he2` is social and has a
number of good, close friends. `r params$he2` enjoys playing basketball
competitively with `r params$his` peers, and recreationally at home with
`r params$his` father. `r params$he2` plays tennis, swims, plays piano, and
plays video games for fun. `r params$he2` worked with a psychologist, XX XX, for
XX. No prior psychological testing was indicated.

\newpage

# NEUROPSYCHOLOGICAL TESTING

## Test Battery

-   (ref:wisc5)
-   (ref:wiat4)
-   (ref:nepsy2)
-   (ref:ravlt)
-   (ref:tmt)
-   (ref:examiner)
-   (ref:pegboard)
-   (ref:bicycle)
-   (ref:clock)
-   (ref:tomm)
-   (ref:basc3-sdh)
-   (ref:brown-efa-parent)

## Behavioral Observations

`r params$fname` was seen in-person at the USC Psychiatry and Behavioral Health
Services (PBHS) clinic on the University Park Campus. `r params$he` attended the
appointments with `r params$his` parents. `r params$he2` was evaluated across
two 4-hour testing sessions scheduled a week apart in a physically-distanced
testing environment. A number of precautionary safety measures were employed
(e.g., masks, gloves, plexiglass dividers) while minimizing interference with
standardized testing procedures.

It was a pleasure to work with `r params$fname` and easy to establish rapport.
`r params$his2` general level of expressivity was good and `r params$he` easily
initiated spontaneous conversation topics and maintained reciprocal
communication. `r params$he2` was friendly but reserved. `r params$his2` affect
was somewhat restricted in range and expression but positive, and `r params$he`
showed a full range of emotions. Eye contact was good and appropriate to
situation. No gross behavioral apathy or disinhibition. Formal motor testing
could not be completed due to the patient's neurological history and motor
limitations. `r params$he2` sat comfortably in a wheelchair during exam.

`r params$fname` was cooperative and responded to questions in a polite and
forthright manner to the best of `r params$his` abilities. `r params$he2`
persisted on challenging items and put forth good effort (as supported by formal
effort tests). The evaluation in its entirety is an accurate representation of
`r params$his` functioning at this time, and the results presented herein are
considered valid for interpretation.

\newpage

## Test Results

\autoref{fig:gauss-plot-narrow} can be used as a guide to help interpret
individual test scores in terms of the degree of distance a score fell in
relation to normative and developmental expectations (i.e., the mean).
\autoref{fig:gauss-plot-broad} can be used to help interpret broad domains in
terms of the degree of clinical severity. Test scores are easiest to interpret
as percentiles[^1], which are provided in the tables below, and as *z*-scores (M
= 0, SD = 1)[^2], which are used to plot the various test and domain scores
below.

(ref:gauss-plot-narrow) Statistical classification of neuropsychological test
scores in the general population [@guilmetteAmericanAcademyClinical2020].

```{r gauss-plot-narrow, fig.cap='(ref:gauss-plot-narrow)', fig.width=6, fig.height=5, fig.pos = '!ht'}
knitr::include_graphics("plot_narrow.png", auto_pdf = TRUE)
```

(ref:gauss-plot-broad) General clinical interpretation of performance for
individual test scores and broader neuropsychological domains
[@schoenbergReportingStandardsNeuropsychological2017].

```{r gauss-plot-broad, fig.cap='(ref:gauss-plot-broad)', fig.width=6, fig.height=5, fig.pos = '!ht'}
knitr::include_graphics("plot_broad.png", auto_pdf = TRUE)
```

```{r, echo=FALSE, message=FALSE}
## Import CSV files
library(dplyr)
library(readr)
library(forcats)
library(purrr)
# path to files
data_path <- here::here(patient, "csv")
# get file names of .csv files
files <- dir(data_path, pattern = "*.csv")
# read into env
neuropsych <- 
  files %>%
  purrr::set_names() %>%
  purrr::map_df(~ readr::read_csv(file.path(data_path, .)),
         na = c("", "NA", "--", "-"),
         .id = "filename") %>%
  dplyr::filter(!is.na(percentile)) %>%
  dplyr::distinct() %>%
  dplyr::mutate(z = qnorm(percentile/100)) %>%
  dplyr::mutate(domain = forcats::as_factor(domain)) %>%
  dplyr::mutate(subdomain = forcats::as_factor(subdomain)) %>%
  dplyr::mutate(narrow = forcats::as_factor(narrow)) %>%
  dplyr::mutate(domain_broad = forcats::as_factor(domain_broad)) %>%
  dplyr::mutate(domain_test = forcats::as_factor(domain_test)) %>%
  dplyr::mutate(verbal = forcats::as_factor(verbal)) %>% 
  dplyr::mutate(pass = forcats::as_factor(pass)) %>% 
  dplyr::mutate(timed = forcats::as_factor(timed))
```

```{r, make-factors-neurocog}
# Subset neurocognitive data
neurocog <- 
  neuropsych %>% 
  dplyr::filter(test_type == "npsych_test")
## Create factors
# domain
neurocog <-
  neurocog %>%
  dplyr::group_by(domain, .add = TRUE) %>%
  dplyr::filter(!is.na(percentile)) %>% 
  dplyr::mutate(z_mean_dom = mean(z), z_sd_dom = sd(z)) %>%
  dplyr::mutate(pct_mean_dom = mean(percentile), pct_sd_dom = sd(percentile)) %>%
  dplyr::ungroup()
# subdomain
neurocog <-
  neurocog %>%
  dplyr::group_by(subdomain, .add = TRUE) %>%
  dplyr::filter(!is.na(percentile)) %>%
  dplyr::mutate(z_mean_sub = mean(z), z_sd_sub = sd(z)) %>%
  dplyr::mutate(pct_mean_sub = mean(percentile), pct_sd_sub = sd(percentile)) %>%
  dplyr::ungroup()
# narrow
neurocog <-
  neurocog %>%
  dplyr::group_by(narrow, .add = TRUE) %>%
  dplyr::filter(!is.na(percentile)) %>%
  dplyr::mutate(z_mean_narrow = mean(z), z_sd_narrow = sd(z)) %>%
  dplyr::mutate(pct_mean_narrow = mean(percentile), pct_sd_narrow = sd(percentile)) %>%
  dplyr::ungroup()
# verbal
neurocog <-
  neurocog %>%
  dplyr::group_by(verbal, .add = TRUE) %>%
  dplyr::filter(!is.na(percentile)) %>%
  dplyr::mutate(z_mean_verbal = mean(z), z_sd_verbal = sd(z)) %>% 
  dplyr::ungroup()
# pass
neurocog <-
  neurocog %>%
  dplyr::group_by(pass, .add = TRUE) %>%
  dplyr::filter(!is.na(percentile)) %>%
  dplyr::mutate(z_mean_pass = mean(z), z_sd_pass = sd(z)) %>% 
  dplyr::ungroup()
# timed
neurocog <-
  neurocog %>%
  dplyr::group_by(timed, .add = TRUE) %>%
  dplyr::filter(!is.na(percentile)) %>%
  dplyr::mutate(z_mean_timed = mean(z), z_sd_timed = sd(z)) %>% 
  dplyr::ungroup()
```

```{r, make-factors-neurobehav}
# Subset neurocognitive data
neurobehav <- 
  neuropsych %>% 
  dplyr::filter(test_type != "npsych_test")
## Create factors
# domain
neurobehav <-
  neurobehav %>%
  dplyr::group_by(domain, .add = TRUE) %>%
  dplyr::filter(!is.na(score)) %>% 
  dplyr::mutate(z_mean_dom = mean(z), z_sd_dom = sd(z)) %>%
  dplyr::mutate(pct_mean_dom = mean(percentile), pct_sd_dom = sd(percentile)) %>%
  dplyr::ungroup()
# subdomain
neurobehav <-
  neurobehav %>%
  dplyr::group_by(subdomain, .add = TRUE) %>%
  dplyr::filter(!is.na(score)) %>%
  dplyr::mutate(z_mean_sub = mean(z), z_sd_sub = sd(z)) %>%
  dplyr::mutate(pct_mean_sub = mean(percentile), pct_sd_sub = sd(percentile)) %>%
  dplyr::ungroup()
# narrow
neurobehav <-
  neurobehav %>%
  dplyr::group_by(narrow, .add = TRUE) %>%
  dplyr::filter(!is.na(score)) %>%
  dplyr::mutate(z_mean_narrow = mean(z), z_sd_narrow = sd(z)) %>%
  dplyr::mutate(pct_mean_narrow = mean(percentile), pct_sd_narrow = sd(percentile)) %>%
  dplyr::ungroup()
# parent # finish
neurobehav <-
  neurobehav %>%
  dplyr::group_by(verbal, .add = TRUE) %>%
  dplyr::filter(!is.na(score)) %>%
  dplyr::mutate(z_mean_verbal = mean(z), z_sd_verbal = sd(z)) %>% 
  dplyr::ungroup()
# child # finish
neurobehav <-
  neurobehav %>%
  dplyr::group_by(pass, .add = TRUE) %>%
  dplyr::filter(!is.na(score)) %>%
  dplyr::mutate(z_mean_pass = mean(z), z_sd_pass = sd(z)) %>% 
  dplyr::ungroup()
```

```{r, write-data}
## Write data
readr::write_csv(neuropsych, here::here(patient, "neuropsych.csv"))
readr::write_csv(neurocog, here::here(patient, "neurocog.csv"))
readr::write_csv(neurobehav, here::here(patient, "neurobehav.csv"))
```

```{r, read-data, echo=F, message=F}
## Read data
neuropsych <- readr::read_csv(here::here(patient, "neuropsych.csv"))
neurocog <- readr::read_csv(here::here(patient, "neurocog.csv"))
neurobehav <- readr::read_csv(here::here(patient, "neurobehav.csv"))
```

### Intelligence

Overall intellectual scores were *High-Average*. Index scores were *Average* to
*High-Average*. `r params$fname` evidenced strong verbal reasoning skills and
acquired knowledge. By contrast, `r params$his` nonverbal/fluid reasoning skills
were an area of clinically significant relative weakness. General cognitive
functions were low overall secondary to the patient's neurological history and
difficulties with visual-spatial-motor integration and processing speed.

```{r, eval=F, results='asis'}
library(tidyverse)
library(glue)
library(gluedown)
library(purrr)

person <- "Biggie"
dom <- "Intelligence"

g <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- g

lst(person, range, scale) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}.',
    range = trait$range,
    scale = trait$scale
  ) %>%
  purrr::modify(lift(paste0)) %>% 
  cat()
```

```{r, eval=T, results='asis'}
#slice.iq <- c(4,2:3)
knitr::read_chunk(here::here("R", "02_make_data.frame_iq.R"))
```

```{r make-df-iq, eval=T, double_escape=T, escape=F}
```

```{r, eval=T, results='asis'}
knitr::read_chunk(here::here("R", "03_make_kable_iq.R"))
```

```{r make-kable-iq, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
# plot domain scores as z-scores
g <- 
	neurocog %>% 
	dplyr::filter(., domain == "Intelligence") #%>% 
	#dplyr::slice(slice.iq)
```

```{r g, fig.cap = '(ref:g) (ref:gc) (ref:gf)', fig.path = 'figures/npsych2-'}
# make dotplot
dotplot(
  data = g,
  x = g$z_mean_narrow,
  y = g$narrow,
  domain = "iq")
```

\newpage

### Academic Skills

`r params$fname`'s academic skills were within age- and grade-expected levels.
Reading scores were *Low-Average* to *High-Average*, with strong word reading
skills. Spelling and written expression were *Low-Average* to *High-Average*.
`r params$fname`'s composite math score was *Average*, with strong math problem
solving/quantitative reasoning performance.

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Academic Skills"
# make df
acad <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- acad

lst(person, range, scale) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}.',
    range = trait$range,
    scale = trait$scale
  ) %>%
  stringr::str_to_sentence() %>%
  purrr::modify(lift(paste0)) %>% 
  cat()
```

```{r}
#slice.acad <- c(6,1:2,7,4:5,3)
academics <-
  make_tibble(
  tibb = academics,
  data = neurocog,
  pheno = "Academic Skills"
) %>% 
  dplyr::filter(!is.na(Score)) %>%
  dplyr::arrange(Test) #%>% 
  #dplyr::slice(slice.acad)
```

```{r, academics, double_escape=T, escape=F, fig.fullwidth=TRUE}
kableExtra::kbl(
  academics[, 2:5],
  caption = '(ref:academics)',
  "latex",
  longtable = FALSE,
  booktabs = TRUE,
  linesep = "",
  align = c("lccc")
) %>%
  kableExtra::kable_paper(., lightable_options = 'basic') %>%
  kableExtra::kable_styling(., latex_options = c("scale_down", "HOLD_position", "striped")) %>%
  kableExtra::column_spec(., 1, width = "8cm") %>%
  kableExtra::pack_rows(., index = table(academics$Test)) %>%
  kableExtra::row_spec(., row = 0, bold = TRUE) %>%
  kableExtra::row_spec(., row = 1, bold = TRUE) %>%
  kableExtra::add_indent(., c(2:3)) %>%
  kableExtra::row_spec(., row = 4, bold = TRUE) %>%
  kableExtra::add_indent(., c(5:6)) %>%
  kableExtra::footnote(., symbol = '(ref:standard-score)')
```

```{r}
# plot domain scores as z-scores
acad <- neurocog %>% 
  dplyr::filter(domain == "Academic Skills") %>% 
  dplyr::filter(!is.na(score)) %>%
  dplyr::arrange(test_name) #%>% 
  #dplyr::slice(slice.acad)
```

```{r acad, fig.cap='(ref:acad)', fig.path = 'figures/npsych2-'}
# plot domain scores as z-scores
dotplot(
  data = acad,
  x = acad$z_mean_sub, 
  y = acad$subdomain,
  domain = "academics"
)
```

\newpage

### Verbal/Language

All scores in this area were *Average* to *Above Average*. An exception was
`r params$his` phonemic word fluency score, which was *Low-Average* and a
relative weakness. Phonemic fluency is a component of broader phonological
awareness, which is a core building block to reading development in early
childhood.

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Verbal/Language"

vrb <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- vrb

lst(person, range, scale) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}.',
    range = trait$range,
    scale = trait$scale
  ) %>%
  purrr::modify(lift(paste0)) %>% 
  cat()
```

```{r}
#slice.vrb <- c(2,3,4,5,6)
verbal <-
  make_tibble(
  tibb = verbal,
  data = neurocog,
  pheno = "Verbal/Language"
) %>% 
  dplyr::filter(!is.na(Score)) %>% 
  dplyr::arrange(Test) #%>% 
  #dplyr::slice(slice.vrb)
```

(ref:fn-verbal) Score = Standard score (M = 100, SD = 15), *T* score (M = 50, SD
= 10), or Scaled score (M = 10, SD = 3)

```{r, verbal, double_escape=T, escape=F, fig.fullwidth=TRUE}
kableExtra::kbl(
  verbal[, 2:5],
  caption = '(ref:verbal)',
  "latex",
  longtable = FALSE,
  booktabs = TRUE,
  linesep = "",
  align = c("lccc")
) %>%
  kableExtra::kable_paper(., lightable_options = 'basic') %>%
  kableExtra::kable_styling(., latex_options = c("scale_down", "HOLD_position", "striped")) %>%
  kableExtra::column_spec(., 1, width = "8cm") %>%
  kableExtra::pack_rows(., index = table(verbal$Test)) %>%
  kableExtra::row_spec(., row = 0, bold = TRUE) %>%
  #kableExtra::row_spec(., row = 1, bold = TRUE) %>%
  #kableExtra::add_indent(., c(6:7)) %>%
  kableExtra::add_footnote('(ref:fn-verbal)')
```

```{r vrb}
# subset verbal test scores
vrb <-
  neurocog %>%
  dplyr::filter(domain == "Verbal/Language") %>%
  dplyr::filter(!is.na(score)) %>%
  dplyr::arrange(test_name) #%>% 
  #dplyr::slice(slice.vrb)
```

```{r vrb-narrow, eval=T, fig.cap = '(ref:vrb)', fig.path = 'figures/npsych2-'}
# plot verbal scores as z-scores
dotplot(
  data = vrb,
  x = vrb$z_mean_narrow,
  y = vrb$narrow,
  domain = "verbal"
)
```

\newpage

### Visual Perception/Construction

Visuospatial processing was an overall relative weakness, with performance
falling in the *Exceptionally Low* range. Simultaneous visual processing, visual
discrimination, complex spatial construction, and visuomotor integration were
*Below Average* to *Exceptionally Low*. `r params$fname`'s history of math
difficulties relates to this broader impairment in nonverbal problem solving.

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Visual Perception/Construction"

spt <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- spt

lst(person, range, scale) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}.',
    range = trait$range,
    scale = trait$scale
  ) %>%
  purrr::modify(lift(paste0)) %>% 
  cat()
```

```{r}
#slice.spt <- c(1,2,3,4,8,5,6,7)
spatial <-
  make_tibble(
    tibb = spatial,
    data = neurocog,
    pheno = "Visual Perception/Construction"
) %>%
  dplyr::filter(!is.na(Score)) %>%
  dplyr::arrange(Test) #%>%
  #dplyr::slice(slice.spt)
```

(ref:fn-spatial) Score = Standard score (M = 100, SD = 15), *T* score (M = 50,
SD = 10), or Scaled score (M = 10, SD = 3)

```{r, spatial, double_escape=T, escape=F, fig.fullwidth=TRUE}
kableExtra::kbl(
  spatial[, 2:5],
  "latex",
  longtable = FALSE,
  booktabs = TRUE,
  linesep = "",
  align = c("lccc"),
  caption = '(ref:spatial)'
) %>%
  kableExtra::kable_paper(., lightable_options = 'basic') %>%
  kableExtra::kable_styling(., latex_options = c("scale_down", "HOLD_position", "striped")) %>%
  kableExtra::column_spec(., 1, width = "8cm") %>%
  kableExtra::pack_rows(., index = table(spatial$Test)) %>%
  kableExtra::row_spec(., row = 0, bold = TRUE) %>%
  #kableExtra::row_spec(., row = 1, bold = TRUE) %>%
  #kableExtra::add_indent(., c(3:4)) %>%
  kableExtra::add_footnote('(ref:fn-spatial)')
```

```{r}
# plot domain scores as z-scores
spt <- 
  neurocog %>% 
  dplyr::filter(domain == "Visual Perception/Construction") %>% 
  dplyr::filter(!is.na(score)) %>%
  dplyr::arrange(test_name) #%>%
  #dplyr::slice(slice.spt)
```

```{r spt-narrow, eval=T, fig.cap = '(ref:spt)', fig.path = 'figures/npsych2-'}
# dotplot make
dotplot(
  data = spt,
  x = spt$z_mean_narrow,
  y = spt$narrow,
  domain = "spatial"
)
```

\newpage

### Attention/Executive

Complex working memory and concept formation/inductive reasoning were areas of
notable strength for `r params$fname`. Cognitive control and planning/problem
solving were about average. Verbal and spatial processing speed were variable,
but in general processing speed was one of `r params$fname`'s weakest areas on
exam. Cognitive flexibility and rapid set-shifting were areas of relative
weakness as well. Scores on timed tests varied, but tended to be weaker than on
untimed tests.

Parent reports fell in the moderately elevated range on areas of behavioral
activation, focus, emotion regulation, memory, and overall executive and
attentional functioning.

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Attention/Executive"

exe <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- exe

lst(person, range, scale) %>%
  glue::glue_data(
    "{person} performed in the *{range}* range on {scale}.",
    range = trait$range,
    scale = trait$scale
  ) %>%
  purrr::modify(lift(paste0)) %>% 
  cat()
```

```{r}
#slice.exe <- c(1,3,4,7,8, 2,9,10, 11,13,14, 12,15,16)
executive <-
  make_tibble(
  tibb = executive,
  data = neurocog,
  pheno = "Attention/Executive"
) %>% 
  dplyr::filter(!is.na(Score)) %>% 
  dplyr::arrange(Test) #%>% 
  #dplyr::slice(slice.exe)
```

(ref:fn-exe) Score = Standard score (M = 100, SD = 15), *T* score (M = 50, SD =
10), or Scaled score (M = 10, SD = 3)

```{r, executive, double_escape = T, escape = F, fig.fullwidth = TRUE}
kableExtra::kbl(
  executive[, 2:5],
  caption = '(ref:executive)',
  "latex",
  longtable = FALSE,
  booktabs = TRUE,
  linesep = "",
  align = c("lccc")
) %>%
  kableExtra::kable_paper(., lightable_options = 'basic') %>%
  kableExtra::kable_styling(., latex_options = c("scale_down", "HOLD_position", "striped")) %>%
  kableExtra::column_spec(., 1, width = "8cm") %>%
  kableExtra::row_spec(., row = 0, bold = TRUE) %>%
  kableExtra::pack_rows(., index = table(executive$Test)) %>%
  #kableExtra::row_spec(., row = c(4, 13), bold = TRUE) %>%
  #kableExtra::row_spec(., row = c(18, 21), bold = TRUE) %>%
  #kableExtra::add_indent(., c(5:12, 14:15)) %>%
  #kableExtra::add_indent(., c(19:20, 22:23)) %>%
  kableExtra::add_footnote('(ref:fn-exe)')
```

```{r exe}
# plot domain scores as z-scores
exe <- neurocog %>% 
  dplyr::filter(domain == "Attention/Executive") %>% 
  dplyr::filter(!is.na(score)) %>%
  dplyr::arrange(test_name) #%>% 
  #dplyr::slice(slice.exe)
```

```{r exe-sub, eval=T, fig.cap = '(ref:att-exe)', fig.path = 'figures/npsych2-'}
# dotplot
dotplot(
  data = exe,
  x = exe$z_mean_sub,
  y = exe$subdomain,
  domain = "executive"
)
```

```{r, eval=F}
test <- "Brown EF/A Parent"
brown_efa_parent <-
  make_tibble(
  tibb = brown_efa_parent,
  data = neurobehav,
  pheno = "Behavioral/Emotional/Social"
) %>% 
  dplyr::filter(Test == test)
```

```{r, eval=F}
# self
brown_efa_self <-
  make_tibble(
  tibb = brown_efa_self,
  data = neurocog,
  pheno = "Behavioral/Emotional/Social"
) %>%
  dplyr::filter(Test == "Brown EF/A Self")
# combine
#brown_efa <- dplyr::bind_rows(brown_efa_parent, brown_efa_self)
```

```{r brown-efa, eval=F, double_escape = T, escape = F, fig.fullwidth = TRUE}
# Brown EF/A
kableExtra::kbl(brown_efa[, 2:5], caption = "(ref:brown-efa)", "latex", longtable = FALSE, booktabs = TRUE, linesep = "", align = c("lccc")) %>%
  kableExtra::kable_paper(., lightable_options = 'basic') %>%
  kableExtra::kable_styling(., latex_options = c("scale_down", "HOLD_position", "striped")) %>%
  kableExtra::column_spec(., 1, width = "8cm") %>%
  kableExtra::row_spec(., row = 0, bold = TRUE) %>%
  kableExtra::pack_rows(., index = table(brown_efa$Test)) %>%
  kableExtra::add_footnote('(ref:t-score)')
```

```{r, eval=F}
# combine
executive <- dplyr::bind_rows(executive, brown_efa_parent) %>% dplyr::arrange(Test)
```

\newpage

### Memory

Learning and recall of rote verbal information (word list) was *Average*
overall, and `r params$fname` showed a variable learning curve. Recall of the
list after a brief delay was *Average*. Recall after a longer delay was
*Low-Average* secondary to `r params$his` variable learning curve resulting in
disorganized initial encoding of the words, which was `r params$his` only memory
score falling somewhat below age-expectations. Recall of more complex verbal
information (short story) was *High-Average* for immediate free recall. Recall
of visual material (abstract shapes) was *High-Average*. Recall after a long
delay was *Above Average*. Reconstructing a complex/abstract visual design from
memory after a brief delay was intact.

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Memory"

mem <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- mem

lst(person, range, scale) %>%
  glue::glue_data(
    "{person} performed in the *{range}* range on {scale}.",
    range = trait$range,
    scale = trait$scale
  ) %>%
  purrr::modify(lift(paste0)) %>% 
  cat()
```

```{r}
#slice.mem <- c(1,3,4,7,10:12)
memory <-
  make_tibble(
    tibb = memory,
    data = neurocog,
    pheno = "Memory"
) %>% 
  dplyr::filter(!is.na(Score)) %>%
  dplyr::arrange(Test) #%>% 
  #dplyr::slice(slice.mem)
```

(ref:fn-memory) Score = *T* score (M = 50, SD = 10) or Scaled score (M = 10, SD
= 3)

```{r, memory, double_escape = T, escape = F, fig.fullwidth = TRUE}
kableExtra::kbl(
  memory[, 2:5],
  caption = "(ref:memory)",
  "latex",
  longtable = FALSE,
  booktabs = TRUE,
  linesep = "",
  align = c("lccc")
) %>%
  kableExtra::kable_paper(., lightable_options = 'basic') %>%
  kableExtra::kable_styling(., latex_options = c("scale_down", "HOLD_position", "striped")) %>%
  kableExtra::column_spec(., 1, width = "8cm") %>%
  kableExtra::pack_rows(., index = table(memory$Test)) %>%
  kableExtra::row_spec(., row = 0, bold = TRUE) %>%
  kableExtra::add_footnote('(ref:fn-memory)')
```

```{r mem}
# plot domain scores as z-scores
mem <- neurocog %>% 
  dplyr::filter(domain == "Memory") %>% 
  dplyr::filter(!is.na(score)) %>%
  dplyr::arrange(test_name) %>%
  #dplyr::slice(slice.mem)
```

```{r mem-narrow, eval=T, fig.cap = '(ref:mem)', fig.path = 'figures/npsych2-'}
dotplot(
  data = mem,
  x = mem$z_mean_narrow,
  y = mem$narrow,
  domain = "memory"
)
```

\newpage

### Motor

All scores in this area were *Average* to *Exceptionally High*. Fine motor speed
and dexterity were intact bilaterally. No evidence of atypical lateralization of
fine or gross motor skills. No evidence of dyspraxia. Graphomotor speed and
accuracy (i.e., graphomotor control) was *Exceptionally High*; `r params$fname`
completed the task with great precision and fluid pencil control. Gross motor
functioning including balance and gait appeared intact on observation.

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Motor"

mtr <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- mtr

lst(person, range, scale) %>%
  glue::glue_data(
    "{person} performed in the *{range}* range on {scale}.",
    range = trait$range,
    scale = trait$scale
  ) %>%
  purrr::modify(lift(paste0)) %>% 
  cat()
```

```{r}
#slice.mtr <- c(1:2,3:6,10)
motor <-
  make_tibble(
    tibb = motor,
    data = neurocog,
    pheno = "Motor"
) %>% 
  dplyr::filter(!is.na(Score)) %>%
  dplyr::arrange(Test) #%>% 
  #dplyr::slice(slice.mtr)
```

(ref:fn-motor) Score = *T* score (M = 50, SD = 10) or Scaled score (M = 10, SD =
3)

```{r, motor, double_escape = T, escape = F, fig.fullwidth = TRUE}
kableExtra::kbl(motor[, 2:5], caption = "(ref:motor)", "latex", longtable = FALSE, booktabs = TRUE, linesep = "", align = c("lccc")) %>%
  kableExtra::kable_paper(., lightable_options = 'basic') %>%
  kableExtra::kable_styling(., latex_options = c("scale_down", "HOLD_position", "striped")) %>%
  kableExtra::column_spec(., 1, width = "8cm") %>%
  kableExtra::row_spec(., row = 0, bold = TRUE) %>%
  kableExtra::pack_rows(., index = table(motor$Test)) %>%
  kableExtra::add_footnote('(ref:fn-motor)')
```

```{r mtr, eval=T, fig.cap='(ref:mtr)'}
# plot domain scores as z-scores
mtr <- 
  neurocog %>% 
  dplyr::filter(domain == "Motor") %>%
  dplyr::filter(!is.na(score)) %>%
  dplyr::arrange(test_name) #%>%
  #dplyr::slice(slice.mtr)
```

```{r mtr-narrow, eval=T, fig.cap='(ref:mtr)', fig.path = 'figures/npsych2-'}
# dotplots
dotplot(
  data = mtr,
  x = mtr$z_mean_narrow,
  y = mtr$narrow,
  domain = "motor"
)
```

\newpage

### Emotional/Behavioral/Adaptive

`r params$fname` completed an objective self-report inventory of personality and
emotional functioning. `r params$his2` clinical profile was marked by a
*Clinically Significant* elevation on the Depression scale. `r params$he2`
reported a number of difficulties consistent with a significant depressive
experience, primarily marked by cognitive features such as negative expectancies
and low self-esteem. `r params$he2` is quite pessimistic and plagued by thoughts
of low self-worth, hopelessness, and personal failure. `r params$he2` indicated
concerns about physical functioning and health matters in general such as pain,
GI problems, ill health, and fatigue, which are often accompanied by depression
and anxiety. `r params$he2` is worried and concerned about current issues to the
degree that `r params$his` ability to concentrate and attend are significantly
compromised, and reported overconcern regarding issues and events over which he
has no control. `r params$he2` can be rather impatient and easily irritated, but
does not report any specific aggressive behaviors that are recurrent problems
for him. No suicidal thoughts or intentions indicated.

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Behavioral/Emotional/Social" # domain
sub <- "Personality" # subdomain

pai <- neurobehav %>%
  dplyr::filter(subdomain == sub) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- pai

pai.out <- lst(person, range, scale) %>%
  glue::glue_data(
    "{person} performed in the *{range}* range on {scale}.",
    range = trait$range,
    scale = trait$scale
  ) %>%
  purrr::modify(lift(paste0)) %>% 
  cat()
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "02_make_dataframe_pai.R"))
```

```{r make-dataframe-pai, eval=T, double_escape = T, escape = F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "03_make_kable_pai.R"))
```

```{r make-kable-pai, eval=T, double_escape = T, escape = F}
```

```{r pai1}
# plot domain scores as z-scores
pai1 <- neurobehav %>% 
  dplyr::filter(domain == "Emotional/Behavioral/Adaptive") %>% 
  #dplyr::filter(!is.na(score)) %>%
  dplyr::arrange(test_name) #%>%
  #dplyr::slice(slice.mem)
```

```{r pai-plot, eval=F, fig.cap = '(ref:pai)', fig.path = 'figures/npsych2-'}
dotplot(
  data = neurobehav,
  x = neurobehav$z_mean_narrow,
  y = neurobehav$narrow,
  domain = "personality"
)
```

\newpage

# SUMMARY/IMPRESSION

(ref:domain) *Key Findings:* Academic and intellectual skills are
`r params$fname`'s strengths. Processing speed and cognitive inflexibility are
areas of relative weakness. Notably, even `r params$fname`'s average scores
reflect performances that are below cognitive expectations for `r params$him`.
`r params$his2` ability to consistently demonstrate these skills is sometimes
limited by performance anxiety and overconcern with correctness, however.
*Note:* *z* = 0 (mean) ± 1 (sd)

```{r}
# subset cog data for plotting
domain <-
  neurocog %>%
  dplyr::filter(test_type == "npsych_test") %>%
  dplyr::filter(!is.na(domain)) 
```

```{r domain, fig.cap = '(ref:domain)', fig.path = 'figures/npsych2-'}
dotplot(
  data = domain,
  x = domain$z_mean_dom,
  y = domain$domain, 
  domain = "domain")
```

## Overall Evaluation Interpretation

`r params$fname` is a (ref:age)-year-old student/man/woman with a history of X.
`r params$he2` was referred for testing by `r params$his` parents to assess
`r params$his` current cognitive, academic, and emotional functioning. Without
question, `r params$fname` is an immensely talented youngster who presents with
a multitude of intellectual and interpersonal strengths that will no doubt serve
`r params$him` well in future academic and social endeavors. `r params$his2`
general intellectual skills are in the high-average range for `r params$his`
age, which means `r params$he` will be able to keep up with or outpace
`r params$his` peers on a wide variety of cognitive and problem-solving tasks.
Working memory is strong. `r params$his2` academic skills are even stronger,
with several test scores ranging 1-2 standard deviations above the norm for
`r params$his` age and grade level. `r params$his2` current achievement scores
are markedly higher than the scores he obtained when he completed the middle
school placement exams a few months ago. Verbal/language processing and
nonverbal reasoning/problem solving are average to above average; relative
weaknesses across tests from both domains are secondary to `r params$his`
performance anxiety rather than actual cognitive difficulties. Memory and motor
functioning is intact.

By contrast, `r params$fname` mathematics scores are significantly lower than
predicted by `r params$his` crystallized/verbal intelligence. `r params$his2`
general fluid/visuospatial skills are impaired when juxtaposed with
`r params$his` verbal skills, the latter of which underlie `r params$his` math
difficulties. `r params$he2` evidences secondary neurocognitive deficits in
visual attention, complex working memory and processing speed, and
`r params$his` nonverbal/spatial memory is impaired secondary to `r params$his`
executive dysfunction in these areas. Relative weaknesses across tests across
all domains are secondary to `r params$his` congenital cerebral palsy, which
disrupted subtle brain structure and function during early critical periods of
neurodevelopment. History of cerebral palsy is consistently linked to
impairments in visual-spatial and mathematics abilities in the research
literature. CP is associated with extensive difficulties with visual perception;
visual short-term memory; visual reasoning; and mental rotation, all of which
are associated with mathematical abilities. This is consistent with a
*specific-learning disorder (SLD) with impairment in mathematics*. ***The
community college board to which `r params$fname` reapplies is encouraged to
allow him to bypass `r params$his` math class requirements given `r params$his`
learning disability and broader neurocognitive difficulties with visuospatial
processing and processing speed.***

In terms of emotional functioning, `r params$fname` is prone to be self-critical
and pessimistic, dwelling on past failures and lost opportunities with
considerable uncertainty and indecision about `r params$his` plans and goals for
the future. Given this self-doubt, `r params$he` tends to blame himself for
setbacks. `r params$he2` has become withdrawn and introverted, and likely
appears to others as if `r params$he` has little interest in socializing.
`r params$he2` is also wary and sensitive in interpersonal relationships,
developing somewhat of a "shell" to protect `r params$his` feelings.
`r params$he2` feels uncertain and indecisive about many major life issues and
has an unclear sense of direction in `r params$his` life as it currently stands.
Many of these thoughts, feelings, and behaviors stem from having been
misdiagnosed and mistreated in the past, especially during early elementary
school and high school. In general, `r params$he` has been given a level of
social support much lower than that of the average adult. `r params$his2`
depression symptoms are diagnostically consistent with *dysthymia*, along with
some avoidant personality features. In speaking with `r params$fname` during
feedback, I voiced my concern about `r params$his` untreated depression.
`r params$he2` is open to working with a therapist again and retrying
antidepressant medications. `r params$fname` does report a number of strengths
that are positive indications for a relatively smooth treatment process, if
`r params$he` were willing to make a commitment to treatment.

## Diagnostic Impression

-   F41.1 Generalized anxiety disorder
-   F40.11 Social anxiety disorder (performance/test anxiety)
-   R41.844 Frontal/executive function deficit
-   R41.842 Visuospatial deficit
-   F81.2 Mathematics Disorder
-   R41.843 Psychomotor deficit
-   F34.1 Persistent depressive disorder (dysthymia)
-   Rule out Major depressive disorder, single episode, unspecified
-   Rule out Avoidant personality disorder

# RECOMMENDATIONS

```{r eval=FALSE, results='asis'}
cat("
<style>
li {
-webkit-column-break-inside: avoid;
page-break-inside: avoid;
break-inside: avoid;
}
</style>
")
```

## Recommendations for Medical/Health Care

1.  Cognitive behavioral therapy (CBT) for anxiety: CBT that relies primarily on
    behavioral techniques such as Exposure and Response Prevention (ERP) will be
    essential for helping `r params$fname` work through `r params$his`
    challenges with perfectionism and the secondary emotional outfall. Provider
    referrals are below (links are clickable).

    -   [Melissa Mose, PhD, LMFT](https://www.melissamosemft.com/)
    -   [Dr. Jenny Yip](https://www.dryip.com/)

2.  Medical. Consultation with a child & adolescent psychiatrist or
    `r params$his` pediatrician is warranted to treat `r params$fname`'s anxiety
    with medication if necessary or if `r params$he` does not seem to respond to
    therapy. Selective serotonin reuptake inhibitors (SSRIs) are recommended as
    safe and effective first-line treatments for generalized anxiety and OCD
    symptoms. Provider referrals are below (links are clickable).

    -   [Neevon Esmaili, MD](https://www.mentalfitnessclinic.com/pediatric/)
    -   [Sahar Douek, MD](https://www.sunshinepsychiatry.com/)
    -   [Gina Osterman, MD](https://www.sunshinepsychiatry.com/)

3.  High quality sleep, balanced nutrition, and frequent, vigorous exercise are
    critical to maximizing attention and focus, and lowering anxiety and stress.

4.  `r params$fname` and `r params$his` parents are encouraged to learn more
    about the nature of perfectionism and performance/test anxiety, its
    symptoms, causes, and available treatment options. Recommended sources of
    information include these online resources (links are clickable):

    -   [Child Mind
        Institute:](https://childmind.org/article/how-to-help-kids-who-are-too-hard-on-themselves/)
    -   [ADAA](https://adaa.org/webinar/consumer/helping-your-perfectionistic-child)
    -   [Understood.org:](https://www.understood.org/en/friends-feelings/common-challenges/self-control/why-kids-overreact-to-criticism)
    -   [NSAC:](https://bit.ly/2PNPYpQ)
    -   [Child Anxiety Network:](http://www.childanxiety.net/)
    -   [TeensHealth](https://kidshealth.org/en/teens/test-anxiety.html)

## Recommendations for School

1.  `r params$fname` ability to make inferences is better than `r params$his`
    actual performance on such tasks. This is related to XX. Thus, it is
    unreasonable to expect `r params$him` to complete math courses
    satisfactorily. If provided a course waiver in math and related areas,
    `r params$he` would be able to finish XX.
2.  Extended testing time: Double time would be appropriate for `r params$fname`
    during both school and standardized examinations given `r params$his`
    impairment in processing speed and visuospatial processing. Extended time
    accommodations are apt to more readily enable `r params$fname` to
    demonstrate his competencies in a more effective and consistent manner.

## Recommendations for Family/Home

1.  Organizations supporting Cerebral Palsy:

    -   [Cerebral Palsy Foundation](https://yourcpf.org/)
    -   [Pedal with Pete for research on Cerebral
        Palsy](http://pedal-with-pete.org/)
    -   [Reaching for the Stars, Inc (RFTS,
        Inc)](http://reachingforthestars.org/)
    -   [United Cerebral Palsy (UCP)](https://www.ucp.org/)

2.  Extracurricular/social activities are highly encouraged (yet carefully
    balanced with `r params$his` academic demands) to foster continued positive
    socialization experiences.

## Follow-Up Evaluation

Follow up testing is not indicated at this time unless concerns arise that need
to be addressed.

It was a pleasure to work with `r params$fname` and `r params$his` family.
Please contact me with any questions or concerns regarding this patient.

```{marginfigure, echo=TRUE}
**CONTACT**\
Department of Psychiatry and Behavioral Sciences\
2250 Alcazar St., Suite 2200\
Los Angeles, CA 90033\
(323) 442-4000\
[trampush\@usc.edu](mailto:trampush@usc.edu){.email}\
```

Sincerely,

```{r out.width='25%', fig.align='left'}
knitr::include_graphics("jwtSig.png")
```

**Joey Trampush, PhD**\
Della Martin Assistant Professor of Psychiatry\
Department of Psychiatry and the Behavioral Sciences\
University of Southern California Keck School of Medicine\
CA License PSY29212 \newpage

# APPENDIX

## Test Selection Procedures

Neuropsychological tests are intrinsically performance-based, and cognitive
performance assessed during this neuropsychological evaluation is summarized
above. Where appropriate, qualitative observations are included. Cultural
considerations were made when selecting measures, interpreting results, and
making diagnostic impressions and recommendations. Results from formal tests are
reported in comparison to other individuals the same age, sex, and educational
level as range of functioning (e.g., Below Average, Average, Above Average).
Test score labels are intended solely to be descriptive, identifying positions
of scores relative to a normal curve distribution, and should be interpreted
within the context of the patient's individual presentation and history.
Although standardized scores provide the clinician with an important and
necessary understanding of the patient's test performance compared with a
normative group, they do not on their own lead to accurate diagnosis or
treatment recommendations.

## Conversion of Test Scores

(ref:ranges) Test Score Labels/Ranges

| **Score range**    | **Standard score** | ***T*** **score** | **Scaled score** | ***z*****-score** | **Percentile (‰)** |
|:-------------------|:------------------:|:-----------------:|:----------------:|:-----------------:|:------------------:|
| Exceptionally High |       130 +        |       70 +        |       16 +       |        2 +        |        98 +        |
| Above Average      |     120 -- 129     |     63 -- 69      |     14 -- 15     |    1.3 -- 1.9     |      91 -- 97      |
| High-Average       |     110 -- 119     |     57 -- 62      |     12 -- 13     |    0.7 -- 1.2     |      75 -- 90      |
| Average            |     90 -- 109      |     44 -- 56      |     9 -- 11      |    -0.7 -- 0.6    |      25 -- 74      |
| Low-Average        |      80 -- 89      |     37 -- 43      |      7 -- 8      |   -1.3 -- -0.6    |      9 -- 24       |
| Below Average      |      70 -- 79      |     30 -- 36      |      4 -- 6      |    -2 -- -1.4     |       2 -- 8       |
| Exceptionally Low  |       \< 70        |       \< 30       |       \< 4       |       \< -2       |        \< 2        |

[^1]: (ref:pct)

[^2]: (ref:zplot)
