---
title: "Confidential Neuropsychological Report"
author:
  - name: "**Smalls, Biggie**"
date: January 1, 2021
output:
  komadown::komatufte:
    latex_engine: pdflatex
    citation_package: biblatex
    number_sections: false
    keep_md: true
    keep_tex: false
    always_allow_html: true
site: bookdown::bookdown_site
editor_options:
  markdown:
    references:
      location: block
      prefix: "np"
header-includes:
  - \usepackage{titling}
  - \pretitle{\begin{center}
    \includegraphics[width=6in,height=2in]{logo.png}\LARGE\\}
  - \posttitle{\end{center}}
  - \usepackage{svg}
  - \usepackage{wasysym}
  - \usepackage{float}
toc: false
highlight: yes
bibliography: komadown.bib
biblio-style: apa
link-citations: yes
colorlinks: yes
graphics: yes
fig-caption: true
self-contained: yes
fontpack-libertine: yes
fontpack-newtx: yes
fontpack-libertinus-type1: yes
automark: yes
classoption:
  - DIV=calc
  - headsepline=true
header:
  - pos: ro
    next: "`r params$last_name`, `r params$first_name`"
caption:
  - labelfont=bf
  - labelsep=period
  - font=small
setkomafont:
  - element: descriptionlabel
    commands: \normalfont\scshape\bfseries
params:
  first_name:
    label: "First Name:"
    value: Biggie
    input: text
  last_name:
    label: "Last Name:"
    value: Smalls
    input: text
  mrn:
    label: "Patient ID:"
    value: "000000000"
    input: numeric
    min: 000000000
    max: 999999999
  dob:
    label: "Date of Birth:"
    value: !r Sys.Date()
    input: date
  sex:
    label: "Sex/Gender:"
    value: Male
    input: radio
    choices:
      - Male
      - Female
      - Nonbinary
      - Prefer not to answer
  race:
    label: "Race/Ethnicity:"
    value: White/Caucasian
    input: radio
    choices:
      - American Indian/Alaska Native
      - Asian-American
      - Black/African-American
      - Hispanic/Caucasian
      - Multiracial
      - Native Hawaiian
      - Pacific Islander
      - White/Caucasian
      - Prefer not to answer
      - Other
  hand:
    label: "Handedness:"
    value: Right
    input: radio
    width: 800px
    choices:
      - Right
      - Left
      - Ambidextrous
  educ:
    label: "Current Grade:"
    value: "Dropped outta high school"
    input: select
    multiple: no
    choices:
      - Dropped outta high school
      - At home with relatives
      - Daycare
      - Preschool
      - Transitional Kindergarten
      - Kindergarten
      - 1st grade
      - 2nd grade
      - 3rd grade
      - 4th grade
      - 5th grade
      - 6th grade
      - 7th grade
      - 8th grade
      - 9th grade
      - 10th grade
      - 11th grade
      - 12th grade
      - Some college
      - College freshman
      - College sophomore
      - College junior
      - College senior
      - Graduate student
      - Medical student
      - Post-doctoral student
      - Other
      - High school diploma
      - College degree
      - Master's degree
      - Medical degree
      - Doctoral degree
  doe1:
    label: "DOE 1st visit (NSE):"
    value: !r Sys.Date()
    input: date
  doe2:
    label: "DOE 2nd visit (NT1):"
    value: !r Sys.Date()
    input: date
  doe3:
    label: "DOE 3rd visit (NT2):"
    value: !r Sys.Date()
    input: date
  doe4:
    label: "DOE 4th visit (SIRF):"
    value: !r Sys.Date()
    input: date
  he_she:
    label: "he/she Pronoun:"
    value: he
    input: radio
    width: 800px
    choices:
      - he
      - she
  his_her:
    label: "his/her Pronoun:"
    value: his
    input: radio
    width: 800px
    choices:
      - his
      - her
  him_her:
    label: "him/her Pronoun:"
    value: him
    input: radio
    width: 800px
    choices:
      - him
      - her
  he_she_cap:
    label: "He/She Pronoun:"
    value: He
    input: radio
    width: 800px
    choices:
      - He
      - She
  his_her_cap:
    label: "His/Her Pronoun:"
    value: His
    input: radio
    width: 800px
    choices:
      - His
      - Her
  him_her_cap:
    label: "Him/Her Pronoun:"
    value: Him
    input: radio
    width: 800px
    choices:
      - Him
      - Her
  dx1:
    label: "Diagnosis/Disorder 1:"
    value: ADHD
    input: radio
    choices:
      - ADHD
      - dyslexia
      - depression
      - anxiety
  dx2:
    label: "Diagnosis/Disorder 2:"
    value: depression
    input: radio
    width: 800px
    choices:
      - ADHD
      - dyslexia
      - depression
      - anxiety
  refdoc:
    label: "Referral Source:"
    value: Dr Dre
    input: text
  family:
    label: "Family Member:"
    value: parents
    input: radio
    choices:
      - parents
      - mother
      - father
      - wife
      - husband
      - partner
      - spouse
      - guardian
      - other
      - none/self
---

```{r, setup, include = FALSE, results='hide', warning=FALSE}
library(knitr)
knitr::knit_hooks$set(crop = knitr::hook_pdfcrop)
knitr::knit_hooks$set(optipng = knitr::hook_optipng)

# Fix subfigs for rmarkdown -> latex
if (identical(knitr:::pandoc_to(), 'latex'))
  knitr::knit_hooks$set(plot = knitr::hook_plot_tex)

knitr::opts_chunk$set(
  echo = FALSE,
  dev = c("CairoPNG", "CairoPDF"),
  dev.args = list(pointsize = 8),
  crop = TRUE,
  par = TRUE,
  fig.width = 5,
  fig.height = 3,
  dpi = 300,
  fig.pos = '!ht',
  root.dir = normalizePath('./'),
  cache = FALSE,
  cache.path = './cache/report-',
  # Code block options
  eval = TRUE,
  include = TRUE,
  message = FALSE,
  warning = FALSE,
  results = 'asis',
  error = TRUE
)
knitr::opts_knit$set(width = 50)
options(digits = 3, warnPartialMatchArgs = FALSE)
```

```{r}
source(file = here::here("R/utils.R"), local = knitr::knit_global())
```

```{r}
source(file = here::here("R/handout.R"), local = knitr::knit_global())
```

```{r}
source(file = here::here("R/html.R"), local = knitr::knit_global())
```

```{r}
knitr::knit_engines$set(marginfigure = function(options) {
        options$type = 'marginfigure'
        eng_block = knitr::knit_engines$get('block')
        eng_block(options)
    })
```

```{r}
source(file = here::here("R/calc_age.R"), local = knitr::knit_global())
```

```{r}
source(file = here::here("R/dotplot.R"), local = knitr::knit_global())
```

```{r}
source(file = here::here("R/make_tibble.R"), local = knitr::knit_global())
```

```{r}
## patient initials or first/last name, whatever was used to create subdirectory
patient <- "biggie"
```

```{r, eval=F}
# Create directory
dir_create(here::here(patient, "pre_csv"))
dir_create(here::here(patient, "csv"))
dir_create(here::here(patient, "pdf"))
# Create link to directory
out_dir_pre_csv <- here::here(patient, "pre_csv")
out_dir_csv <- here::here(patient, "csv")
out_dir_pdf <- here::here(patient, "pdf")
```

```{bash, engine.opts='-l', eval=F}
export patient=patient
export lastname=lastname
export firstname=firstname
# pdf
ln -shfi ~/uscdbox/npsych_reports/2021/$lastname-$firstname/*.pdf ~/npsych.reports/$patient/pdf/.
# csv
cp ~/uscdbox/npsych_reports/2021/$lastname-$firstname/*.csv ~/npsych.reports/$patient/pre_csv/.
# slk
cp ~/uscdbox/npsych_reports/2021/$lastname-$firstname/*.slk ~/npsych.reports/$patient/pre_csv/.
```

```{r, eval=F}
## set file path
path_pdf <- here::here(patient, "pdf")
file_names_pdf <- dir(path_pdf, pattern = ".pdf", full.names = TRUE)
file_names_pdf
```

```{r, eval=F}
# cognitive: change to specific file
cognitive_pdf <- file_names_pdf[3]
```

```{r, eval=F}
## set file path # this might be useless
path_csv <- here::here(patient, "pre_csv")
file_names_csv <- dir(path_csv, pattern = ".csv")
file_names_csv
```

```{r, eval=F}
# cognitive csv file
cognitive_csv <- file_names_csv[1] # not sure if I need this
```

```{r, eval=F, echo=F}
## set file path # this might be useless
path_slk <- here::here(patient, "pre_csv")
file_names_slk <- dir(path_csv, pattern = ".slk")
file_names_slk
```

```{r, eval=F}
# cognitive slk file
cognitive_slk <- file_names_slk[1]
```

(ref:first-name) `r params$first_name`

(ref:last-name) `r params$last_name`

(ref:he-she) `r params$he_she`

(ref:his-her) `r params$his_her`

(ref:him-her) `r params$him_her`

(ref:he-she-cap) `r params$he_she_cap`

(ref:his-her-cap) `r params$his_her_cap`

(ref:him-her-cap) `r params$him_her_cap`

(ref:wppsi4) Wechsler Preschool and Primary Scale of Intelligence, 4th ed
(WPPSI-IV)

(ref:wisc5) Wechsler Intelligence Scale for Children, 5th ed (WISC-V)

(ref:wais4) Wechsler Adult Intelligence Scale, 4th ed (WAIS-IV)

(ref:wasi2) Wechsler Abbreviated Scale of Intelligence, 2nd ed (WASI-2)

(ref:ktea3) Kaufman Test of Educational Achievement, 3rd ed (KTEA-3)

(ref:wrat5) Wide Range Achievement Test, 5th ed (WRAT-5)

(ref:wiat3) Wechsler Individual Achievement Test, 3rd ed (WIAT-III)

(ref:wiat4) Wechsler Individual Achievement Test, 4th ed (WIAT-4)

(ref:evt3) Expressive Vocabulary Test, 3rd ed (EVT-3)

(ref:ppvt5) Peabody Picture Vocabulary Test, 5th ed (PPVT-5)

(ref:tiwre) Test of Irregular Word Reading Efficiency (TIWRE)

(ref:nepsy2) NEPSY-II Developmental Neuropsychological Battery

(ref:examiner) NIH Executive Abilities: Measures and Instruments for
Neurobehavioral Evaluation and Research (NIH EXAMINER)

(ref:cms) Children's Memory Scale (CMS)

(ref:pegboard) Grooved Pegboard Test

(ref:clock) Clock Drawing Test

(ref:bicycle) Bicycle Drawing Task

(ref:ravlt) Rey Auditory Verbal Learning Test (RAVLT)

(ref:cvltc) California Verbal Learning Test, Child ed (CVLT-C)

(ref:cvlt3) California Verbal Learning Test, 3rd ed (CVLT-3)

(ref:dkefs) Delis-Kaplan Executive Function System (D-KEFS)

(ref:tmt) Trail Making Test

(ref:nab) Neuropsychological Assessment Battery (NAB)

(ref:nabs) Neuropsychological Assessment Battery (NAB), Screener

(ref:rbans) Repeatable Repeatable Battery for the Assessment of
Neuropsychological Status Update (RBANS)

(ref:coca) Colorado Cognitive Assessment (CoCA)

(ref:cog-est) Cognitive Estimation Test

(ref:celf5) Clinical Evaluation of Language Fundamentals, 5th ed (CELF-5)

(ref:celf5-ors) Clinical Evaluation of Language Fundamentals, 5th ed (CELF-5),
Observational Rating Scale

(ref:rist) Reynolds' Intellectual Screening Test (RIST)

(ref:tomm) Test of Memory Malingering (TOMM)

(ref:acs-word-choice) Advanced Clinical Solutions (ACS), Word Choice Test

(ref:acs-soc-cog) Advanced Clinical Solutions (ACS), Social Cognition Battery

(ref:acs-topf) Advanced Clinical Solutions (ACS), Test of Premorbid Functioning (TOPF)

(ref:basc3) Behavioral Assessment Scale for Children, 3rd ed (BASC-3)

(ref:basc3-sdh) BASC-3 Structured Developmental History (SDH)

(ref:basc3-prs) BASC-3 Parent Rating Scale (PRS)

(ref:basc3-prs-preschool) BASC-3 Parent Rating Scale (PRS), Preschool

(ref:basc3-prs-child) BASC-3 Parent Rating Scale (PRS), Child

(ref:basc3-trs-child) BASC-3 Teacher Rating Scale (TRS), Child

(ref:basc3-prs-adolescent) BASC-3 Parent Rating Scale (PRS), Adolescent

(ref:basc3-srp) BASC-3 Self-Report of Personality (SRP)

(ref:basc3-srp-child) BASC-3 Self-Report of Personality (SRP), Child

(ref:basc3-srp-adolescent) BASC-3 Self-Report of Personality (SRP), Adolescent

(ref:brown-efa) Brown Executive Function/Attention Scales (Brown EF/A)

(ref:brown-efa-parent) Brown Executive Function/Attention Scales, (EF/A), Parent
Report

(ref:brown-efa-self) Brown Executive Function/Attention Scale (EF/A),
Self-Report

(ref:brown-efa-teacher) Brown Executive Function/Attention Scales (EF/A),
Teacher Report

(ref:abas-parent) Adaptive Behavior Assessment System, 3rd ed (ABAS-3), Parent

(ref:abas-teacher) Adaptive Behavior Assessment System, 3rd ed (ABAS-3), Teacher

(ref:caadid) Conners' Adult ADHD Diagnostic Interview for DSM-IV (CAADID), Part
I: History

(ref:caars-self) Conners' Adult ADHD Rating Scale (CAARS), Self-Report

(ref:caars-obs) Conners' Adult ADHD Rating Scale (CAARS), Observer Report

(ref:swan) SWAN ADHD Rating Scale

(ref:bai) Beck Anxiety Inventory (BAI)

(ref:bdi2) Beck Depression Inventory, 2nd ed (BDI-2)

(ref:cars2) Childhood Autism Rating Scale, 2nd ed (CARS2)

(ref:cars2-hf) CARS2 High-Functioning Version (CARS2-HF)

(ref:cars2-qpc) CARS2 Questionnaire for Parents/Caregivers (CARS2-QPC)

(ref:sent-comp) Children's Sentence Completion Test

(ref:pai) Personality Assessment Inventory (PAI)

(ref:mmpi) Minnesota Multiphasic Personality Inventory-2-Restructured Form (MMPI-2-RF)

(ref:iq) Intelligence

(ref:academics) Academic Skills

(ref:verbal) Verbal/Language

(ref:spatial) Visual Perception/Construction

(ref:memory) Memory

(ref:executive) Attention/Executive

(ref:motor) Motor

(ref:social) Social Cognition

(ref:standard-score) Score = Standard score (M = 100, SD = 15)

(ref:scaled-score) Score = Scaled score (M = 10, SD = 3)

(ref:t-score) Score = *T* score (M = 50, SD = 10)

(ref:z-score) Score = *z*-score (M = 0, SD = 1)

(ref:zplot) *z* = -1 (16th percentile), *z* = 0 (50th percentile), and *z* = 1
(84th percentile)

(ref:pct) A *percentile* shows `r params$first_name`'s standing relative to peers. For example, a percentile score of 70 means `r params$first_name` performed as well as or better than 70% of individuals the same age.

(ref:br) A *base rate* is the prevalence of score in the general population. If
a score is rare, defined as a base rate of less than 10%, it is considered
*clinically significant*, and that area of functioning is probably causing
problems in daily functioning.

(ref:basc3-footnote) Score = *T* score (M = 50, SD = 10); *Note:* Adaptive
Skills *T* scores are reversed

(ref:basc3-fn-srp-adol) Score = *T* score (M = 50, SD = 10); *Note:* Personal
Adjustment *T* scores are reversed

(ref:g) *General intelligence* refers to an overall capacity to reason, to solve
problems, and to learn useful information.

(ref:gc) *Crystallized intelligence* refers to the ability to learn and use
language to reason and understand how the world works.

(ref:gf) *Fluid intelligence* refers to the ability to use logical reasoning to
figure things out without being told exactly how things work, analyze and solve
novel problems, identify patterns and relationships that underpin these
problems, and apply logic.

(ref:acad) *Reading ability* consists of three interrelated abilities: decoding,
comprehension, and fluency. *Writing ability* can be described in terms of
spelling, grammar, expression of ideas, and writing fluency. *Math ability* can
be described in terms of calculation skills, applied problem solving, and math
fluency.

(ref:read) *Reading ability* can be described as consisting of three
interrelated abilities: decoding (the ability to recognize and pronounce written
words presented without context), comprehension (the ability not only to
understand the facts presented in the text but also the ability to figure out
things in the text that are not directly stated), and fluency (the ability to
decode and understand simple written information in a rapid and fluent manner).

(ref:write) *Writing ability* can be described in terms of spelling, grammar,
expression of ideas, and writing fluency. Spelling ability and writing fluency
help one write quickly and with quality. If these lower-level skills don't flow
easily, they can take up attention and working memory space so that more
important skills such as making good choices about words and meaning (i.e.,
expression), and capitalizing on background grammar knowledge to construct good
pieces of writing cannot be used as easily.

(ref:math) *Math ability* can be described in terms of calculation skills,
applied problem solving (e.g., word problems), and math fluency.

(ref:vrb) *Verbal/language* refers to the ability to access and apply acquired
word knowledge, to verbalize meaningful concepts, to understand complex
multistep instructions, to think about verbal information, and to express
oneself using words.

(ref:spt) *Visuoperception, visuoconstruction, and visuospatial processing*
refer to abilities such as mentally visualizing how objects should look from
different angles, visualizing how to put objects together so that they fit
correctly, and being able to accurately and efficiently copy and/or reproduce
visual-spatial information onto paper.

(ref:att-exe) *Attentional* and *executive functions* underlie most, if not all,
domains of cognitive performance. These are behaviors and skills that allow
individuals to successfully carry-out instrumental and social activities,
academic work, engage with others effectively, problem solve, and successfully
interact with the environment to get needs met.

(ref:att) *Attention* is a basic function that underlies most, if not all,
domains of neurocognitive functioning. If an individual has limited attentional
capacity, an inability to sustain or divide attentional focus, or a reduced
ability to selectively attend to competing stimuli, then they would likely be
unable to interact with the environment to an adequate degree and, thus have
limited functioning in other, higher-order areas.

(ref:exe) Measures of *executive functioning* are used as proxies for behaviors
and skills that allow individuals to successfully carry-out instrumental and
social activities, such as planning, engaging with others effectively, problem
solving, and successfully interacting with the environment to get needs met.

(ref:wm) *Working memory* is the system responsible for the transient holding
and processing of information in conscious awareness just long enough to use it
for problem solving, and plays a critical role in reasoning, comprehension, and
learning.

(ref:ps) *Processing speed* refers to the rate at which the brain can
repetitively process familiar and unfamiliar information during relatively easy
tasks that almost everyone can do. Processing speed tests are good predictors of
performance on tasks that are so well learned that they are nearly automatic,
which can be critical to completing work efficiently.

(ref:mem) *Learning and memory* refer to the rate and ease with which new
information (e. g., facts, stories, lists, faces, names) can be encoded, stored,
and later recalled from long-term memory.

(ref:mtr) *Sensorimotor* tasks refer to the capacity to control hand movements
quickly, smoothly, and with adequate precision, which are required to engage in
activities such as writing and drawing.

(ref:soccog) *Social cognition* measures are used to gauge aspects of
social-emotional processing and social aptitude (sometimes referred to as
emotional intelligence), which are important facets of how individuals process
social information about other children, adults, groups, and social contexts.

(ref:cc) *Cognitive control* guides behavior by controlling what, when, and how
information is represented in the brain. Cognitive control is associated with a
wide range of processes and is not restricted to a particular cognitive domain.
Impairments in cognitive control functions are associated with specific deficits
in attention, memory, language comprehension and emotional processing.

(ref:adhd) *ADHD* is a neurodevelopmental disorder characterized by symptoms of
inattention (not being able to keep focus), hyperactivity (excess movement that
is not fitting to the setting) and impulsivity (hasty acts that occur in the
moment without thought). Many ADHD symptoms, such as high activity levels,
difficulty remaining still for long periods of time and limited attention spans,
are common to children and adolescents in general, and even many adults. The
difference in individuals with ADHD is that their hyperactivity and inattention
are noticeably greater than expected for their age and cause distress and/or
problems functioning at home, at school, at work, or with friends.

(ref:dysgraphia) *Dysgraphia* is an impairment in writing, including problems
with letter formation/legibility, letter spacing, spelling, fine motor
coordination, rate of writing, grammar, and composition. DSM-5 categorizes
writing impairment as a "specific learning disability with impairment in written
expression" (spelling accuracy, grammar and punctuation accuracy, and clarity
and organization of written expression) [@chungDisorderWrittenExpression2020].

(ref:odd) *Oppositional defiant disorder (ODD)* is a tendency to oppose and
defy. DSM-5 categorizes ODD under Disruptive, impulse-control, and conduct
disorder. It is described as a pattern of persistent anger, hostility, and
argumentative behavior that persists for more than six months.

(ref:dyslexia) *Dyslexia* means an individual has a neurobiologically based
cognitive processing problem that affects how easily and efficiently they can
learn to read. Dyslexia is a common condition: some experts believe 5-10% of
people have it; others say as many as 17% of people show signs of reading
challenges. Dyslexia is formally classified as a specific learning disability in
reading. People with dyslexia have trouble reading at a good pace and without
mistakes. They may also have a hard time with reading comprehension, spelling,
and writing. Importantly, these challenges are not a problem with intelligence.

(ref:comp-dyslexia) *Dyslexia* means an individual has a neurobiologically based
cognitive processing problem that affects how easily and efficiently they can
learn to read. Approximately 24% of individuals diagnosed with dyslexia are able to achieve reading skills commensurate with nondyslexic peers. A concept in the research literature is one of "compensated dyslexia"[@vanviersenHighReadingSkills2016], which is used to describe these individuals
because they use strengths in other areas to compensate for deficits in reading.
Dyslexia is underidentified in this population because the dyslexia can be
masked by strengths in vocabulary and intelligence, making it especially
difficult to identify in high-achieving individuals.

# NEUROBEHAVIORAL STATUS EXAM

(ref:patient) `r params$first_name` `r params$last_name`

(ref:mrn) `r params$mrn`

(ref:dob) `r params$dob`

(ref:age) `r calc_age(params$dob, params$doe2)`

(ref:sex) `r params$sex`

(ref:race) `r params$race`

(ref:hand) `r params$hand`

(ref:educ) `r params$educ`

(ref:doe) `r params$doe1`, `r params$doe2`, `r params$doe3`

```{marginfigure, echo=TRUE}
**Name:** (ref:patient)\
**MRN:** (ref:mrn)\
**DOB:** (ref:dob)\
**Age:** (ref:age)\
**Gender:** (ref:sex)\
**Handedness:** (ref:hand)\
**Education:** (ref:educ)\
**DOE:** (ref:doe)
```

```{r, nse, results='asis'}
cat(readLines("nse.1.md"), sep = "\n")
```

\newpage

# NEUROPSYCHOLOGICAL TESTING

## Test Battery

-   (ref:wisc5)
-   (ref:wiat4)
-   (ref:nepsy2)
-   (ref:ravlt)
-   (ref:tmt)
-   (ref:examiner)
-   (ref:pegboard)
-   (ref:bicycle)
-   (ref:clock)
-   (ref:tomm)
-   (ref:basc3-sdh)
-   (ref:brown-efa-parent)

```{r, bobs, results='asis'}
cat(readLines("bobs.md"), sep = "\n")
```

\newpage

## Test Results

\autoref{fig:gauss-plot-narrow} can be used as a guide to help interpret
individual test scores in terms of the degree of distance a score fell in
relation to normative and developmental expectations (i.e., the mean).
\autoref{fig:gauss-plot-broad} can be used to help interpret broad domains in
terms of the degree of clinical severity. Test scores are easiest to interpret
as percentiles[^1], which are provided in the tables below, and as *z*-scores (M
= 0, SD = 1)[^2], which are used to plot the various test and domain scores
below .

[^1]: (ref:pct)

[^2]: (ref:zplot)

(ref:gauss-plot-narrow) Statistical classification of neuropsychological test
scores in the general population [@guilmetteAmericanAcademyClinical2020].

```{r gauss-plot-narrow, fig.cap='(ref:gauss-plot-narrow)', fig.width=6, fig.height=5, fig.pos = '!ht'}
knitr::include_graphics("plot_narrow.png", auto_pdf = TRUE)
```

(ref:gauss-plot-broad) General clinical interpretation of performance for
individual test scores and broader neuropsychological domains
[@schoenbergReportingStandardsNeuropsychological2017].

```{r gauss-plot-broad, fig.cap='(ref:gauss-plot-broad)', fig.width=6, fig.height=5, fig.pos = '!ht'}
knitr::include_graphics("plot_broad.png", auto_pdf = TRUE)
```

```{r, echo = F, message = F}
## Import CSV files
library(tidyverse)
# path to files
data_path <- here::here(patient, "csv")
# get file names of .csv files
files <- dir(data_path, pattern = "*.csv")
# read into env
neuropsych <-
  files %>%
  purrr::set_names() %>%
  purrr::map_df(~ readr::read_csv(file.path(data_path, .)),
         na = c("", "NA", "--", "-"),
         .id = "filename") %>%
  dplyr::filter(!is.na(percentile)) %>%
  dplyr::distinct() %>%
  dplyr::mutate(z = qnorm(percentile/100)) %>%
  dplyr::mutate(domain = forcats::as_factor(domain)) %>%
  dplyr::mutate(subdomain = forcats::as_factor(subdomain)) %>%
  dplyr::mutate(narrow = forcats::as_factor(narrow)) %>%
  dplyr::mutate(verbal = forcats::as_factor(verbal)) %>%
  dplyr::mutate(pass = forcats::as_factor(pass)) %>%
  dplyr::mutate(timed = forcats::as_factor(timed))
```

```{r, make-factors-neurocog}
# Subset neurocognitive data
neurocog <-
  neuropsych %>%
  filter(test_type == "npsych_test")
## Create factors
# domain
neurocog <-
  neurocog %>%
  group_by(domain, .add = TRUE) %>%
  filter(!is.na(percentile)) %>%
  mutate(z_mean_dom = mean(z), z_sd_dom = sd(z)) %>%
  mutate(pct_mean_dom = mean(percentile), pct_sd_dom = sd(percentile)) %>%
  ungroup()
# subdomain
neurocog <-
  neurocog %>%
  group_by(subdomain, .add = TRUE) %>%
  filter(!is.na(percentile)) %>%
  mutate(z_mean_sub = mean(z), z_sd_sub = sd(z)) %>%
  mutate(pct_mean_sub = mean(percentile), pct_sd_sub = sd(percentile)) %>%
  ungroup()
# narrow
neurocog <-
  neurocog %>%
  dplyr::group_by(narrow, .add = TRUE) %>%
  dplyr::filter(!is.na(percentile)) %>%
  dplyr::mutate(z_mean_narrow = mean(z), z_sd_narrow = sd(z)) %>%
  dplyr::mutate(pct_mean_narrow = mean(percentile), pct_sd_narrow = sd(percentile)) %>%
  dplyr::ungroup()
# verbal
neurocog <-
  neurocog %>%
  dplyr::group_by(verbal, .add = TRUE) %>%
  dplyr::filter(!is.na(percentile)) %>%
  dplyr::mutate(z_mean_verbal = mean(z), z_sd_verbal = sd(z)) %>%
  dplyr::ungroup()
# pass
neurocog <-
  neurocog %>%
  dplyr::group_by(pass, .add = TRUE) %>%
  dplyr::filter(!is.na(percentile)) %>%
  dplyr::mutate(z_mean_pass = mean(z), z_sd_pass = sd(z)) %>%
  dplyr::ungroup()
# timed
neurocog <-
  neurocog %>%
  dplyr::group_by(timed, .add = TRUE) %>%
  dplyr::filter(!is.na(percentile)) %>%
  dplyr::mutate(z_mean_timed = mean(z), z_sd_timed = sd(z)) %>%
  dplyr::ungroup()
```

```{r, make-factors-neurobehav}
# Subset neurocognitive data
neurobehav <-
  neuropsych %>%
  dplyr::filter(test_type != "npsych_test")
## Create factors
# domain
neurobehav <-
  neurobehav %>%
  dplyr::group_by(domain, .add = TRUE) %>%
  dplyr::filter(!is.na(score)) %>%
  dplyr::mutate(z_mean_dom = mean(z), z_sd_dom = sd(z)) %>%
  dplyr::mutate(pct_mean_dom = mean(percentile), pct_sd_dom = sd(percentile)) %>%
  dplyr::ungroup()
# subdomain
neurobehav <-
  neurobehav %>%
  dplyr::group_by(subdomain, .add = TRUE) %>%
  dplyr::filter(!is.na(score)) %>%
  dplyr::mutate(z_mean_sub = mean(z), z_sd_sub = sd(z)) %>%
  dplyr::mutate(pct_mean_sub = mean(percentile), pct_sd_sub = sd(percentile)) %>%
  dplyr::ungroup()
# narrow
neurobehav <-
  neurobehav %>%
  dplyr::group_by(narrow, .add = TRUE) %>%
  dplyr::filter(!is.na(score)) %>%
  dplyr::mutate(z_mean_narrow = mean(z), z_sd_narrow = sd(z)) %>%
  dplyr::mutate(pct_mean_narrow = mean(percentile), pct_sd_narrow = sd(percentile)) %>%
  dplyr::ungroup()
```

```{r, write-data}
## Write data
write_csv(neuropsych, here::here(patient, "neuropsych.csv"))
write_csv(neurocog, here::here(patient, "neurocog.csv"))
write_csv(neurobehav, here::here(patient, "neurobehav.csv"))
```

```{r, read-data, echo=F, message=F}
## Read data
neuropsych <- read_csv(here::here(patient, "neuropsych.csv"))
neurocog <- read_csv(here::here(patient, "neurocog.csv"))
neurobehav <- read_csv(here::here(patient, "neurobehav.csv"))
```

### Intelligence

Overall intellectual scores were *Average*. Most index scores were *Average* to
*High-Average*, with a slight strength in verbal reasoning and acquired
knowledge. Nonverbal/fluid reasoning was a *Clinically Significant* weakness.

(ref:fn-iq) Score = Standard (M = 100, SD = 15), *T* (M = 50, SD = 10), or
Scaled (M = 10, SD = 3)

```{r, eval=F, results='asis'}
library(glue)
library(gluedown)

person <- "Biggie"
dom <- "Intelligence"

g <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- g

lst(person, range, scale, description) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}, a measure of {description}.',
    range = trait$range,
    scale = trait$scale,
    description = trait$description
  ) %>%
  stringr::str_to_sentence() %>%
  purrr::modify(lift(paste0)) %>%
  cat()
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-iq.R"))
```

```{r 02-make-df-iq, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-iq.R"))
```

```{r 03-make-kable-iq, eval=T, double_escape=T, escape=F, fig.fullwidth=T}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-iq.R"))
```

```{r 04-make-df-g, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-iq.R"))
```

```{r 05-plot-iq-subdomain, eval=T, double_escape=T, escape=F, fig.cap = '(ref:g) (ref:gc) (ref:gf)', fig.path='figures/npsych2-'}
```

```{r 06-plot-iq-narrow, eval=F, double_escape=T, escape=F, fig.cap = '(ref:g) (ref:gc) (ref:gf)', fig.path='figures/npsych2-'}
```

\newpage

### Academic Skills

`r params$first_name`'s academic skills were at or above age-expected levels. Reading
scores were *Low-Average* to *High-Average*, with strong word reading skills.
Spelling and written expression were *Low-Average* to *High-Average*.
`r params$first_name`'s composite math score was *Average*, with strong math problem
solving/quantitative reasoning performance.

(ref:fn-acad) Score = Standard (M = 100, SD = 15), *T* (M = 50, SD = 10), or
Scaled (M = 10, SD = 3) scores

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Academic Skills"
# make df
acad <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- acad

lst(person, range, scale, description) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}, a measure of {description}.',
    range = trait$range,
    scale = trait$scale,
    description = trait$description
  ) %>%
  stringr::str_to_sentence() %>%
  purrr::modify(lift(paste0)) %>%
  cat()
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-academics.R"))
```

```{r 02-make-dataframe-academics, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-academics.R"))
```

```{r 03-make-kable-academics, eval=T, double_escape=T, escape=F, fig.fullwidth=T}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-academics.R"))
```

```{r 04-make-dataframe-acad, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-academics.R"))
```

```{r 05-plot-acad-narrow, eval=T, double_escape=T, escape=F, fig.cap = '(ref:acad)', fig.path='figures/npsych2-'}
```

\newpage

### Verbal/Language

All scores in this area were *average* to *above average*. An exception was
`r params$his_her` phonemic word fluency score, which was *low-average* and a
relative weakness.[^3]

[^3]: Phonemic fluency is a component of broader phonological awareness and a
    core building block to reading development in early childhood.

(ref:fn-verbal) Score = Standard (M = 100, SD = 15), *T* (M = 50, SD = 10), or
Scaled (M = 10, SD = 3) scores

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Verbal/Language"

vrb <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- vrb

lst(person, range, scale, description) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}, a measure of {description}.',
    range = trait$range,
    scale = trait$scale,
    description = trait$description
  ) %>%
  stringr::str_to_sentence() %>%
  purrr::modify(lift(paste0)) %>%
  cat()
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-verbal.R"))
```

```{r 02-make-df-verbal, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-verbal.R"))
```

```{r 03-make-kable-verbal, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-verbal.R"))
```

```{r 04-make-df-vrb, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-verbal.R"))
```

```{r 05-plot-vrb-subdomain, eval=F, fig.cap = '(ref:vrb)', double_escape=T, escape=F}
```

```{r 06-plot-vrb-narrow, eval=T, fig.cap = '(ref:vrb)', double_escape=T, escape=F}
```

\newpage

### Visual Perception/Construction

All scores in this area were *Low-Average* to *Above Average*, without a clear
pattern of strengths or weaknesses.

(ref:fn-spatial) Score = Standard (M = 100, SD = 15) or Scaled (M = 10, SD = 3)
scores

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Visual Perception/Construction"

spt <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- spt

lst(person, range, scale, description) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}, a measure of {description}.',
    range = trait$range,
    scale = trait$scale,
    description = trait$description
  ) %>%
  stringr::str_to_sentence() %>%
  purrr::modify(lift(paste0)) %>%
  cat()
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-spatial.R"))
```

```{r 02-make-dataframe-spatial, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-spatial.R"))
```

```{r 03-make-kable-spatial, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-spatial.R"))
```

```{r 04-make-dataframe-spt, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-spatial.R"))
```

```{r 05-plot-spt-narrow, eval=T, fig.cap = '(ref:spt)', double_escape=T, escape=F}
```

\newpage

### Attention/Executive

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Attention/Executive"

exe <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- exe

lst(person, range, scale, description) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}, a measure of {description}.',
    range = trait$range,
    scale = trait$scale,
    description = trait$description
  ) %>%
  stringr::str_to_sentence() %>%
  purrr::modify(lift(paste0)) %>%
  cat()
```

```{r, exe, results='asis'}
cat(readLines("exe.md"), sep = "\n")
```

(ref:fn-exe) Score = Standard (M = 100, SD = 15), *T* (M = 50, SD = 10), or
Scaled (M = 10, SD = 3)

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-executive.R"))
```

```{r 02-make-df-executive, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-executive.R"))
```

```{r 03-make-kable-executive, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-executive.R"))
```

```{r 04-make-df-executive, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-executive.R"))
```

```{r 05-plot-executive-subdomain, eval=T, fig.cap = '(ref:att-exe)', double_escape=T, escape=F}
```

```{r 06-plot-executive-narrow, eval=F, fig.cap = '(ref:att-exe)', double_escape=T, escape=F}
```

\newpage

### Memory

Learning and recall of rote verbal information (word list) was *average*
overall, and `r params$first_name` showed a good learning curve. Recall of the list
after a brief delay was *average*. Recall after a longer delay was *Low-Average*
secondary to `r params$his_her` variable learning curve resulting in disorganized
initial encoding of the words, which was `r params$his_her` only memory score
falling somewhat below age-expectations. Recall of more complex verbal
information (short story) was *High-Average* for immediate free recall. Recall
of visual material (abstract shapes) was *High-Average*. Recall after a long
delay was *Above Average*. Reconstructing a complex/abstract visual design from
memory after a brief delay was intact.

(ref:fn-memory) Score = *T* (M = 50, SD = 10) or Scaled (M = 10, SD = 3) scores

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Memory"

mem <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- mem

lst(person, range, scale, description) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}, a measure of {description}.',
    range = trait$range,
    scale = trait$scale,
    description = trait$description
  ) %>%
  stringr::str_to_sentence() %>%
  purrr::modify(lift(paste0)) %>%
  cat()
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-memory.R"))
```

```{r 02-make-df-memory, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-memory.R"))
```

```{r 03-make-kable-memory, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-memory.R"))
```

```{r 04-make-df-memory, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-memory.R"))
```

```{r 05-plot-memory-subdomain, eval=F, fig.cap = '(ref:mem)', double_escape=T, escape=F}
```

```{r 06-plot-memory-narrow, eval=T, fig.cap = '(ref:mem)', double_escape=T, escape=F}
```

\newpage

### Motor

All scores in this area were *average* to *high-average*. Fine motor speed
and dexterity were intact bilaterally. No evidence of atypical lateralization of
fine nor gross motor skills. No evidence of dyspraxia. Graphomotor speed and
accuracy (i.e., graphomotor control) was *average*. Gross motor functioning
including balance and gait appeared intact on observation.

(ref:fn-motor) Score = *T* (M = 50, SD = 10) or Scaled (M = 10, SD = 3)

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Motor"

mtr <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- mtr

lst(person, range, scale, description) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}, a measure of {description}.',
    range = trait$range,
    scale = trait$scale,
    description = trait$description
  ) %>%
  stringr::str_to_sentence() %>%
  purrr::modify(lift(paste0)) %>%
  cat()
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-motor.R"))
```

```{r 02-make-dataframe-motor, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-motor.R"))
```

```{r 03-make-kable-motor, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-motor.R"))
```

```{r 04-make-dataframe-mtr, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-motor.R"))
```

```{r 05-plot-mtr-narrow, eval=T, fig.cap = '(ref:mtr)', double_escape=T, escape=F}
```

\newpage

### Social Cognition

`r params$first_name` had to execute a series of behavioral responses requiring her to recognize and interpret the emotional state (happy, sad, angry, afraid, surprised, disgusted, and neutral) of a series of children's faces, on which `r params$he_she` performed *above average* overall. `r params$he_she_cap` performed in the *high-average* range on a measure
of pragmatic language and the ability to comprehend others perspectives,
intentions, and beliefs (i.e., theory of mind).

(ref:fn-scog) Scaled score (M = 10, SD = 3)

```{r, eval=F, results='asis'}

person <- "Biggie"
dom <- "Social Cognition"

eq <- neurocog %>%
  dplyr::filter(domain == dom) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- eq

lst(person, range, scale, description) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}, a measure of {description}.',
    range = trait$range,
    scale = trait$scale,
    description = trait$description
  ) %>%
  stringr::str_to_sentence() %>%
  purrr::modify(lift(paste0)) %>%
  cat()
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-soccog.R"))
```

```{r 02-make-dataframe-soccog, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-soccog.R"))
```

```{r 03-make-kable-soccog, eval=T, double_escape=T, escape=F, fig.fullwidth=TRUE}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-soccog.R"))
```

```{r 04-make-dataframe-eq, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "nt-scog.R"))
```

```{r 05-plot-eq-narrow, eval=T, double_escape=T, escape=F, fig.cap='(ref:soccog)', fig.path='figures/npsych2-'}
```

\newpage

### Emotional/Behavioral/Adaptive

Of note, attention and executive functioning deficits may not show up on tests
or in a structured testing office and yet be evident in real-world settings.
This seems to be the case for `r params$first_name`, as parent ratings indicated significant attention problems, even with medication. Both parent ratings and `r params$first_name`'s own ratings of his executive skills indicated difficulties with working memory and
planning/organization. Parent ratings also indicated mild concerns for
self-monitoring. Teacher ratings indicated poor attention.

```{r, eval=F}
test <- "Brown EF/A Parent"
brown_efa_parent <-
  make_tibble(
  tibb = brown_efa_parent,
  data = neurobehav,
  pheno = "Behavioral/Emotional/Social"
) %>%
  dplyr::filter(Test == test)
```

```{r, eval=F}
# self
brown_efa_self <-
  make_tibble(
  tibb = brown_efa_self,
  data = neurocog,
  pheno = "Behavioral/Emotional/Social"
) %>%
  dplyr::filter(Test == "Brown EF/A Self")
# combine
#brown_efa <- dplyr::bind_rows(brown_efa_parent, brown_efa_self)
```

```{r brown-efa, eval=F, double_escape=T, escape=F, fig.fullwidth=T}
# Brown EF/A
kableExtra::kbl(brown_efa[, 2:5], caption = "(ref:brown-efa)", "latex", longtable = FALSE, booktabs = TRUE, linesep = "", align = c("lccc")) %>%
  kableExtra::kable_paper(., lightable_options = 'basic') %>%
  kableExtra::kable_styling(., latex_options = c("scale_down", "HOLD_position", "striped")) %>%
  kableExtra::column_spec(., 1, width = "8cm") %>%
  kableExtra::row_spec(., row = 0, bold = TRUE) %>%
  kableExtra::pack_rows(., index = table(brown_efa$Test)) %>%
  kableExtra::add_footnote('(ref:t-score)')
```

```{r, eval=F}
# combine
executive <- dplyr::bind_rows(executive, brown_efa_parent) %>% dplyr::arrange(Test)
```


In addition to the attention and executive concerns noted above, parent ratings
indicated difficulties with everyday communication as well as mild-to-moderate
concerns with physical complaints, social skills, leadership, and activities of
daily living. `r params$his_her_cap` mother also noted mild concerns with depression. Teacher
rating forms were not returned at the time of this report.

```{r, pai, results='asis'}
cat(readLines("pai.md"), sep = "\n")
```

```{r, eval=F, results='asis'}
person <- "Biggie"
dom <- "Behavioral/Emotional/Social" # domain
sub <- "Personality" # subdomain

pai <- neurobehav %>%
  dplyr::filter(subdomain == sub) %>%
  dplyr::arrange(desc(percentile)) %>%
  dplyr::distinct(.keep_all = FALSE)

trait <- pai

lst(person, range, scale, description) %>%
  glue::glue_data(
    '{person} performed in the *{range}* range on {scale}, a measure of {description}.',
    range = trait$range,
    scale = trait$scale,
    description = trait$description
  ) %>%
  stringr::str_to_sentence() %>%
  purrr::modify(lift(paste0)) %>%
  cat()
```

```{r pai1}
# plot domain scores as z-scores
pai1 <- neurobehav %>%
  dplyr::filter(test == "pai") %>%
  dplyr::slice(1:41)
```

```{r pai-plot, eval=T, fig.margin=TRUE, fig.env='marginfigure', fig.cap='PAI Clinical Domains. No marked elevations that would indicate the presence of clinical psychopathology.', fig.height=5, out.width='.5\\textwidth', out.extra='', fig.pos=''}
# fig.pos = '!H'
dotplot(
  data = pai1,
  x = pai1$z_mean_narrow,
  y = pai1$narrow,
  domain = "personality"
)
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "02_make_dataframe_pai.R"))
```

```{r make-dataframe-pai, eval=T, double_escape=T, escape=F}
```

```{r, eval=T}
knitr::read_chunk(here::here("R", "03_make_kable_pai.R"))
```

```{r make-kable-pai, eval=T, double_escape=T, escape=F}
```

\newpage

# SUMMARY/IMPRESSION

(ref:domain) *Key Findings:* Academic and intellectual skills are
`r params$first_name`'s strengths. Processing speed and cognitive inflexibility are
areas of relative weakness. Notably, even `r params$first_name`'s average scores
reflect performances that are below cognitive expectations for `r params$him`.
`r params$his_her_cap` ability to consistently demonstrate these skills is sometimes
limited by performance anxiety and overconcern with correctness, however.
*Note:* *z* = 0 (mean) ± 1 (sd)

```{r}
# subset cog data for plotting
domain <-
  neurocog %>%
  dplyr::filter(test_type == "npsych_test") %>%
  dplyr::filter(!is.na(domain))
```

```{r domain, fig.cap = '(ref:domain)', fig.path = 'figures/npsych2-'}
dotplot(
  data = domain,
  x = domain$z_mean_dom,
  y = domain$domain,
  domain = "domain")
```

```{r, sirf, results='asis'}
cat(readLines("sirf.md"), sep = "\n")
```

It was a pleasure to work with `r params$first_name` and `r params$his_her` family.
Please contact me with any questions or concerns regarding this patient.

```{marginfigure, echo=TRUE}
**CONTACT**\
Department of Psychiatry and the Behavioral Sciences\
2250 Alcazar St., Suite 2200\
Los Angeles, CA 90033\
(323) 442-4000\
[trampush\@usc.edu](mailto:trampush@usc.edu){.email}\
```

Sincerely,

```{r out.width='33%', fig.align='left'}
knitr::include_graphics("../jwtSig.png")
```

| **Joey Trampush, PhD**\
| Della Martin Assistant Professor of Psychiatry\
| Department of Psychiatry and the Behavioral Sciences\
| University of Southern California Keck School of Medicine\
| CA License PSY29212\

\newpage

# APPENDIX

```{r results='asis'}
cat(readLines('telehealth_statement.md'), sep = '\n')
```

## Test Selection Procedures

Neuropsychological tests are intrinsically performance-based, and cognitive
performance assessed during this neuropsychological evaluation is summarized
above. Where appropriate, qualitative observations are included. Cultural
considerations were made when selecting measures, interpreting results, and
making diagnostic impressions and recommendations. Results from formal tests are
reported in comparison to other individuals the same age, sex, and educational
level as range of functioning (e.g., below average, average, above average).
Test score labels are intended solely to be descriptive, identifying positions
of scores relative to a normal curve distribution, and should be interpreted
within the context of the patient's individual presentation and history.
Although standardized scores provide the clinician with an important and
necessary understanding of the patient's test performance compared with a
normative group, they do not on their own lead to accurate diagnosis or
treatment recommendations.

## Conversion of Test Scores

(ref:ranges) Test Score Labels/Ranges

| **Score range**    | **Standard score** | ***T*** **score** | **Scaled score** | ***z***-**score** | **Percentile (‰)** |
|:-------------------|:------------------:|:-----------------:|:----------------:|:-----------------------:|:------------------:|
| Exceptionally High Score |       130 +        |       70 +        |       16 +       |           2 +           |        98 +        |
| Above Average Score     |     120 -- 129     |     63 -- 69      |     14 -- 15     |       1.3 -- 1.9        |      91 -- 97      |
| High-Average Score       |     110 -- 119     |     57 -- 62      |     12 -- 13     |       0.7 -- 1.2        |      75 -- 90      |
| Average Score           |     90 -- 109      |     44 -- 56      |     9 -- 11      |       -0.7 -- 0.6       |      25 -- 74      |
| Low-Average Score       |      80 -- 89      |     37 -- 43      |      7 -- 8      |      -1.3 -- -0.6       |      9 -- 24       |
| Below Average Score     |      70 -- 79      |     30 -- 36      |      4 -- 6      |       -2 -- -1.4        |       2 -- 8       |
| Exceptionally Low Score  |       \< 70        |       \< 30       |       \< 4       |          \< -2          |        \< 2        |

