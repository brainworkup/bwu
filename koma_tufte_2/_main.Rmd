---
title: "komatufte"
subtitle: "Koma-script articles inspired by Tufte"
author:
  - name: "Joey Trampush"
date: "`r Sys.Date()`"
output: 
  komadown::komatufte:
    citation_package: biblatex
    latex_engine: xelatex #pdflatex #xelatex
---

```{r, include = FALSE}
knitr::knit_hooks$set(crop = knitr::hook_pdfcrop)

# Fix subfigs for rmarkdown -> latex
if (identical(knitr:::pandoc_to(), 'latex'))
  knitr::knit_hooks$set(plot = knitr::hook_plot_tex)

knitr::opts_chunk$set(
  echo = TRUE,
  dev = "pdf",
  dev.args = list(pointsize = 8),
  crop = TRUE,
  fig.width = 5,
  fig.height = 3
)

knitr::opts_knit$set(width = 50)

options(digits = 3)
```

# Inspired by Edward Tufte

This style has been inspired by the popular document style of Edward Tufte, which is used throughout his many excellent texts on data visualization.
The distinguishing feature of this style is its division into a left-aligned main column and a wide margin on the right into which text, figures, tables, and more can be arranged.

Unlike the tufte package [Xie and Allaire, 2018], however, komadown takes a bit of freedom with this design.[^1]
Unlike the scrartcl style that is also featured in this package, this template takes a much more opinionated approach to the design.
There are fewer options for customization
[^2]

## Default figure environment

komatufte features three different figure environments.
The de- fault figure environment has the figure positioned in the main col- umn and figure caption in the margin.
Figure 1, taken from Paul Murrels excellent R Graphics [Murrell, 2011], showcases the default behavior of figures in this template.

```{r}
z <- 2 * volcano
x <- 10 * 1:nrow(z) 
y <- 10 * 1:ncol(z)

trans <- persp(x, y, z, zlim = c(0, max(z)), 
               theta = 150, phi = 12, lwd = 0.5,
               scale = FALSE, axes = FALSE)

f <- Map(function(i) lines(trans3d(i$x, i$y, 0, trans)), 
         contourLines(x, y, z))
```

## Margin figures

There is also the option to put figures, including caption, alto- gether into the margin.
This environment is invoked by specifying fig.env = "marginfigure" as a chunk option.
This environment is examplified in Figure 2.

```{r, fig.env="marginfigure"}
 mosaicplot(Survived ~ Sex + Age, data = Titanic, shade = TRUE, main = "")
```

## Wide figures

The last figure environment is widefigure, enabled by setting fig.env = "widefigure".

```{r, fig.env="widefigure"}
plot(Nile, ylab = "Flow", xlab = "", col = "steelblue4")
```

### Sub-subsection

[^1]: Instead of italic roman headings, for instance, we ahve opted for bodl sans serif.

[^2]: It is not, however, unlikely this will change in teh fguture.

<!--chapter:end:koma_tufte_2.Rmd-->

